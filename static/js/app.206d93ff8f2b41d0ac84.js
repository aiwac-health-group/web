webpackJsonp([1],{"/wQy":function(t,e){},"1qlN":function(t,e){},"4tA4":function(t,e){},"5paF":function(t,e){},BUrd:function(t,e){},EWQ5:function(t,e){},EcwT:function(t,e){},K3QU:function(t,e){},KCrg:function(t,e){},LmSO:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={};n.d(s,"getTokenCookie",function(){return d}),n.d(s,"setTokenCookie",function(){return f});var a={};n.d(a,"setUserCookie",function(){return et}),n.d(a,"getUserCookie",function(){return tt});var o={};n.d(o,"sendSock",function(){return Bt}),n.d(o,"initWebSocket",function(){return Wt}),n.d(o,"setCallback",function(){return Mt});var i=n("7+uW"),l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var r=n("VU/8")({name:"App"},l,!1,function(t){n("/wQy")},null,null).exports,c=n("/ocq"),u=n("mvHQ"),m=n.n(u);function d(){if(!(document.cookie.length>0))return null;for(var t=document.cookie.split("; "),e=0;e<t.length;e++){var n=t[e].split("=");if("token"===n[0])return n[1]}}function f(t){var e=new Date;e.setTime(e.getTime()+864e5),window.document.cookie="token="+t.toString()+";path=/;expires="+e.toGMTString()}var p={data:function(){return{logining:!1,ruleForm2:{account:"",checkPass:"",checked:!1},rules2:{account:[{required:!0,message:"请输入账号",trigger:"blur"}],checkPass:[{required:!0,message:"请输入密码",trigger:"blur"}]},checked:!0}},created:function(){var t=this.userApi.getUserCookie();null!=(t=JSON.parse(t))&&""!=t.name&&(this.ruleForm2.account=t.userAccount,this.ruleForm2.checkPass=t.userPass,this.ruleForm2.checked=t.remeberFlag)},methods:{handleReset2:function(){this.$refs.ruleForm2.resetFields()},handleSubmit2:function(t){var e=this;this.$refs.ruleForm2.validate(function(t){t&&e.$axios.post("/login",{account:e.ruleForm2.account,password:e.ruleForm2.checkPass}).then(function(t){200!=t.status?e.$message.error("服务出错"+t.status):"success"==t.data.loginFlag?(sessionStorage.setItem("auth",t.data.userFlag),e.cookieApi.setTokenCookie(t.data.token),console.log(t.data.token),e.$axios.defaults.headers.post.Authorization="bearer "+t.data.token,sessionStorage.setItem("user",m()({name:t.data.userName})),e.$message.success("登录成功"),!0===e.checked?e.userApi.setUserCookie(e.ruleForm2.account,e.ruleForm2.checkPass,7,!0):e.userApi.setUserCookie("","",-1,""),e.$router.push("/"+t.data.userFlag)):e.$message.error("账号或密码错误")})})}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm login-container",attrs:{model:t.ruleForm2,rules:t.rules2,"label-position":"left","label-width":"0px"}},[n("h3",{staticClass:"title"},[t._v("系统登录")]),t._v(" "),n("el-form-item",{attrs:{prop:"account"}},[n("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:t.ruleForm2.account,callback:function(e){t.$set(t.ruleForm2,"account",e)},expression:"ruleForm2.account"}})],1),t._v(" "),n("el-form-item",{attrs:{prop:"checkPass"}},[n("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:t.ruleForm2.checkPass,callback:function(e){t.$set(t.ruleForm2,"checkPass",e)},expression:"ruleForm2.checkPass"}})],1),t._v(" "),n("el-checkbox",{staticClass:"remember",attrs:{checked:""},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("记住密码")]),t._v(" "),n("el-form-item",{staticStyle:{width:"100%"}},[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:t.logining},nativeOn:{click:function(e){return e.preventDefault(),t.handleSubmit2(e)}}},[t._v("登录")])],1)],1)},staticRenderFns:[]};var v=n("VU/8")(p,h,!1,function(t){n("LmSO")},null,null).exports,g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h2",[this._v(this._s(this.msg))])])},staticRenderFns:[]};n("VU/8")({name:"Welcome",data:function(){return{msg:"Welcome!"}}},g,!1,function(t){n("vsLT")},"data-v-6ae56eca",null).exports;var _=n("W9Ya"),b=n.n(_),k={data:function(){return{sysName:"医疗服务平台",collapsed:!1,sysUserName:"",sysUserAvatar:b.a,timer:null,authType:"admin"}},methods:{onSubmit:function(){console.log("submit!")},handleopen:function(){},handleclose:function(){},handleselect:function(t,e){},logout:function(){var t=this;this.$confirm("确认退出吗?","提示",{}).then(function(){sessionStorage.removeItem("user"),t.$router.push("/login")}).catch(function(){})},collapse:function(){this.collapsed=!this.collapsed},showMenu:function(t,e){this.$refs.menuCollapsed.getElementsByClassName("submenu-hook-"+t)[0].style.display=e?"block":"none"},setTimer:function(){null==this.timer&&(this.timer=setInterval(function(){},1e3))}},created:function(){this.socketApi.initWebSocket("token="+d())},destroyed:function(){clearInterval(this.timer),this.timer=null},mounted:function(){var t=sessionStorage.getItem("user");t&&(t=JSON.parse(t),this.sysUserName=t.name||"")}},x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{staticClass:"container"},[n("el-col",{staticClass:"header",attrs:{span:24}},[n("el-col",{staticClass:"logo",class:t.collapsed?"logo-collapse-width":"logo-width",attrs:{span:10}},[t._v("\n      "+t._s(t.collapsed?"":t.sysName)+"\n    ")]),t._v(" "),n("el-col",{attrs:{span:10}},[n("div",{staticClass:"tools",on:{click:function(e){return e.preventDefault(),t.collapse(e)}}},[n("i",{staticClass:"fa fa-align-justify"})])]),t._v(" "),n("el-col",{staticClass:"userinfo",attrs:{span:4}},[n("el-dropdown",{attrs:{trigger:"hover"}},[n("span",{staticClass:"el-dropdown-link userinfo-inner"},[n("img",{attrs:{src:this.sysUserAvatar}}),t._v(" "+t._s(t.sysUserName))]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[t._v("我的消息")]),t._v(" "),n("el-dropdown-item",[t._v("设置")]),t._v(" "),n("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(e){return t.logout(e)}}},[t._v("退出登录")])],1)],1)],1)],1),t._v(" "),n("el-col",{staticClass:"main",attrs:{span:24}},[n("aside",{class:t.collapsed?"menu-collapsed":"menu-expanded"},[n("el-menu",{directives:[{name:"show",rawName:"v-show",value:!t.collapsed,expression:"!collapsed"}],staticClass:"el-menu-vertical-demo",staticStyle:{width:"230px"},attrs:{"default-active":t.$route.path,"unique-opened":"",router:""},on:{open:t.handleopen,close:t.handleclose,select:t.handleselect}},[t._l(t.$router.options.routes,function(e,s){return e.hidden||e.meta.auth!==t.authType?t._e():[e.leaf?t._e():n("el-submenu",{attrs:{index:s+""}},[n("template",{slot:"title"},[n("i",{class:e.iconCls}),t._v(t._s(e.name))]),t._v(" "),t._l(e.children,function(e){return e.hidden?t._e():n("el-menu-item",{key:e.path,attrs:{index:e.path}},[t._v(t._s(e.name))])})],2),t._v(" "),e.leaf&&e.children.length>0?n("el-menu-item",{attrs:{index:e.children[0].path}},[n("i",{class:e.iconCls}),t._v(t._s(e.children[0].name))]):t._e()]})],2),t._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:t.collapsed,expression:"collapsed"}],ref:"menuCollapsed",staticClass:"el-menu el-menu-vertical-demo collapsed"},t._l(t.$router.options.routes,function(e,s){return e.hidden||e.meta.auth!==t.authType?t._e():n("li",{staticClass:"el-submenu item"},[e.leaf?[n("li",{staticClass:"el-submenu"},[n("div",{staticClass:"el-submenu__title el-menu-item",class:t.$route.path==e.children[0].path?"is-active":"",staticStyle:{"padding-left":"20px",height:"56px","line-height":"56px",padding:"0 20px"},on:{click:function(n){t.$router.push(e.children[0].path)}}},[n("i",{class:e.iconCls})])])]:[n("div",{staticClass:"el-submenu__title",staticStyle:{"padding-left":"20px"},on:{mouseover:function(e){t.showMenu(s,!0)},mouseout:function(e){t.showMenu(s,!1)}}},[n("i",{class:e.iconCls})]),t._v(" "),n("ul",{staticClass:"el-menu submenu",class:"submenu-hook-"+s,on:{mouseover:function(e){t.showMenu(s,!0)},mouseout:function(e){t.showMenu(s,!1)}}},t._l(e.children,function(e){return e.hidden?t._e():n("li",{key:e.path,staticClass:"el-menu-item",class:t.$route.path==e.path?"is-active":"",staticStyle:{"padding-left":"40px"},on:{click:function(n){t.$router.push(e.path)}}},[t._v(t._s(e.name))])}),0)]],2)}),0)],1),t._v(" "),n("section",{staticClass:"content-container"},[n("div",{staticClass:"grid-content bg-purple-light"},[n("el-col",{staticClass:"breadcrumb-container",attrs:{span:24}},[n("strong",{staticClass:"title"},[t._v(t._s(t.$route.name))]),t._v(" "),n("el-breadcrumb",{staticClass:"breadcrumb-inner",attrs:{separator:"/"}},t._l(t.$route.matched,function(e){return n("el-breadcrumb-item",{key:e.path},[t._v("\n              "+t._s(e.name)+"\n            ")])}),1)],1),t._v(" "),n("el-col",{staticClass:"content-wrapper",attrs:{span:24}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)],1)])])],1)},staticRenderFns:[]};var y=n("VU/8")(k,x,!1,function(t){n("EWQ5")},"data-v-02ac8096",null).exports,$={data:function(){return{sysName:"医疗服务平台",collapsed:!1,sysUserName:"",sysUserAvatar:b.a,timer:null,authType:"doctor"}},methods:{onSubmit:function(){console.log("submit!")},handleopen:function(){},handleclose:function(){},onCall:function(t){"2011"===(t=JSON.parse(t)).code&&(this.socketApi.sendSock({code:"2011",message:"调试"}),this.openBox(t.roomid))},openBox:function(t){var e=this;this.$confirm("有新用户问诊, 是否接听?","提示",{confirmButtonText:"接听",cancelButtonText:"拒绝",type:"warning"}).then(function(){e.$message({type:"success",message:"接听成功!"}),e.$router.push({path:"/doctor/webchat/",query:{id:t}})}).catch(function(){e.socketApi.sendSock({code:2013,message:"客户端拒绝接听"}),e.$message({type:"info",message:"已取消接听"})})},handleselect:function(t,e){},logout:function(){var t=this;this.$confirm("确认退出吗?","提示",{}).then(function(){sessionStorage.removeItem("user"),t.$router.push("/login")}).catch(function(){})},collapse:function(){this.collapsed=!this.collapsed},showMenu:function(t,e){this.$refs.menuCollapsed.getElementsByClassName("submenu-hook-"+t)[0].style.display=e?"block":"none"},setTimer:function(){null==this.timer&&(this.timer=setInterval(function(){},1e3))}},created:function(){this.socketApi.initWebSocket("token="+d()),this.socketApi.setCallback(this.onCall)},destroyed:function(){clearInterval(this.timer),this.timer=null},mounted:function(){var t=sessionStorage.getItem("user");t&&(t=JSON.parse(t),this.sysUserName=t.name||"")}},w={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{staticClass:"container"},[n("el-col",{staticClass:"header",attrs:{span:24}},[n("el-col",{staticClass:"logo",class:t.collapsed?"logo-collapse-width":"logo-width",attrs:{span:10}},[t._v("\n        "+t._s(t.collapsed?"":t.sysName)+"\n      ")]),t._v(" "),n("el-col",{attrs:{span:10}},[n("div",{staticClass:"tools",on:{click:function(e){return e.preventDefault(),t.collapse(e)}}},[n("i",{staticClass:"fa fa-align-justify"})])]),t._v(" "),n("el-col",{staticClass:"userinfo",attrs:{span:4}},[n("el-dropdown",{attrs:{trigger:"hover"}},[n("span",{staticClass:"el-dropdown-link userinfo-inner"},[n("img",{attrs:{src:this.sysUserAvatar}}),t._v(" "+t._s(t.sysUserName))]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[t._v("我的消息")]),t._v(" "),n("el-dropdown-item",[t._v("设置")]),t._v(" "),n("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(e){return t.logout(e)}}},[t._v("退出登录")])],1)],1)],1)],1),t._v(" "),n("el-col",{staticClass:"main",attrs:{span:24}},[n("aside",{class:t.collapsed?"menu-collapsed":"menu-expanded"},[n("el-menu",{directives:[{name:"show",rawName:"v-show",value:!t.collapsed,expression:"!collapsed"}],staticClass:"el-menu-vertical-demo",staticStyle:{width:"230px"},attrs:{"default-active":t.$route.path,"unique-opened":"",router:""},on:{open:t.handleopen,close:t.handleclose,select:t.handleselect}},[t._l(t.$router.options.routes,function(e,s){return e.hidden||e.meta.auth!==t.authType?t._e():[e.leaf?t._e():n("el-submenu",{attrs:{index:s+""}},[n("template",{slot:"title"},[n("i",{class:e.iconCls}),t._v(t._s(e.name))]),t._v(" "),t._l(e.children,function(e){return e.hidden?t._e():n("el-menu-item",{key:e.path,attrs:{index:e.path}},[t._v(t._s(e.name))])})],2),t._v(" "),e.leaf&&e.children.length>0?n("el-menu-item",{attrs:{index:e.children[0].path}},[n("i",{class:e.iconCls}),t._v(t._s(e.children[0].name))]):t._e()]})],2),t._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:t.collapsed,expression:"collapsed"}],ref:"menuCollapsed",staticClass:"el-menu el-menu-vertical-demo collapsed"},t._l(t.$router.options.routes,function(e,s){return e.hidden||e.meta.auth!==t.authType?t._e():n("li",{staticClass:"el-submenu item"},[e.leaf?[n("li",{staticClass:"el-submenu"},[n("div",{staticClass:"el-submenu__title el-menu-item",class:t.$route.path==e.children[0].path?"is-active":"",staticStyle:{"padding-left":"20px",height:"56px","line-height":"56px",padding:"0 20px"},on:{click:function(n){t.$router.push(e.children[0].path)}}},[n("i",{class:e.iconCls})])])]:[n("div",{staticClass:"el-submenu__title",staticStyle:{"padding-left":"20px"},on:{mouseover:function(e){t.showMenu(s,!0)},mouseout:function(e){t.showMenu(s,!1)}}},[n("i",{class:e.iconCls})]),t._v(" "),n("ul",{staticClass:"el-menu submenu",class:"submenu-hook-"+s,on:{mouseover:function(e){t.showMenu(s,!0)},mouseout:function(e){t.showMenu(s,!1)}}},t._l(e.children,function(e){return e.hidden?t._e():n("li",{key:e.path,staticClass:"el-menu-item",class:t.$route.path==e.path?"is-active":"",staticStyle:{"padding-left":"40px"},on:{click:function(n){t.$router.push(e.path)}}},[t._v(t._s(e.name))])}),0)]],2)}),0)],1),t._v(" "),n("section",{staticClass:"content-container"},[n("div",{staticClass:"grid-content bg-purple-light"},[n("el-col",{staticClass:"breadcrumb-container",attrs:{span:24}},[n("strong",{staticClass:"title"},[t._v(t._s(t.$route.name))]),t._v(" "),n("el-breadcrumb",{staticClass:"breadcrumb-inner",attrs:{separator:"/"}},t._l(t.$route.matched,function(e){return n("el-breadcrumb-item",{key:e.path},[t._v("\n          "+t._s(e.name)+"\n        ")])}),1)],1),t._v(" "),n("el-col",{staticClass:"content-wrapper",attrs:{span:24}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)],1)])])],1)},staticRenderFns:[]};var C=n("VU/8")($,w,!1,function(t){n("iJbb")},"data-v-20008e83",null).exports,S={data:function(){return{sysName:"医疗服务平台",collapsed:!1,sysUserName:"",sysUserAvatar:b.a,timer:null,authType:"service"}},methods:{onSubmit:function(){console.log("submit!")},handleopen:function(){},handleclose:function(){},handleselect:function(t,e){},logout:function(){var t=this;this.$confirm("确认退出吗?","提示",{}).then(function(){sessionStorage.removeItem("user"),t.$router.push("/login")}).catch(function(){})},collapse:function(){this.collapsed=!this.collapsed},showMenu:function(t,e){this.$refs.menuCollapsed.getElementsByClassName("submenu-hook-"+t)[0].style.display=e?"block":"none"},setTimer:function(){null==this.timer&&(this.timer=setInterval(function(){},1e3))}},created:function(){this.socketApi.initWebSocket("token="+d()),this.socketApi.setCallback(function(){})},destroyed:function(){clearInterval(this.timer),this.timer=null},mounted:function(){var t=sessionStorage.getItem("user");t&&(t=JSON.parse(t),this.sysUserName=t.name||"")}},L={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{staticClass:"container"},[n("el-col",{staticClass:"header",attrs:{span:24}},[n("el-col",{staticClass:"logo",class:t.collapsed?"logo-collapse-width":"logo-width",attrs:{span:10}},[t._v("\n        "+t._s(t.collapsed?"":t.sysName)+"\n      ")]),t._v(" "),n("el-col",{attrs:{span:10}},[n("div",{staticClass:"tools",on:{click:function(e){return e.preventDefault(),t.collapse(e)}}},[n("i",{staticClass:"fa fa-align-justify"})])]),t._v(" "),n("el-col",{staticClass:"userinfo",attrs:{span:4}},[n("el-dropdown",{attrs:{trigger:"hover"}},[n("span",{staticClass:"el-dropdown-link userinfo-inner"},[n("img",{attrs:{src:this.sysUserAvatar}}),t._v(" "+t._s(t.sysUserName))]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[t._v("我的消息")]),t._v(" "),n("el-dropdown-item",[t._v("设置")]),t._v(" "),n("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(e){return t.logout(e)}}},[t._v("退出登录")])],1)],1)],1)],1),t._v(" "),n("el-col",{staticClass:"main",attrs:{span:24}},[n("aside",{class:t.collapsed?"menu-collapsed":"menu-expanded"},[n("el-menu",{directives:[{name:"show",rawName:"v-show",value:!t.collapsed,expression:"!collapsed"}],staticClass:"el-menu-vertical-demo",staticStyle:{width:"230px"},attrs:{"default-active":t.$route.path,"unique-opened":"",router:""},on:{open:t.handleopen,close:t.handleclose,select:t.handleselect}},[t._l(t.$router.options.routes,function(e,s){return e.hidden||e.meta.auth!==t.authType?t._e():[e.leaf?t._e():n("el-submenu",{attrs:{index:s+""}},[n("template",{slot:"title"},[n("i",{class:e.iconCls}),t._v(t._s(e.name))]),t._v(" "),t._l(e.children,function(e){return e.hidden?t._e():n("el-menu-item",{key:e.path,attrs:{index:e.path}},[t._v(t._s(e.name))])})],2),t._v(" "),e.leaf&&e.children.length>0?n("el-menu-item",{attrs:{index:e.children[0].path}},[n("i",{class:e.iconCls}),t._v(t._s(e.children[0].name))]):t._e()]})],2),t._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:t.collapsed,expression:"collapsed"}],ref:"menuCollapsed",staticClass:"el-menu el-menu-vertical-demo collapsed"},t._l(t.$router.options.routes,function(e,s){return e.hidden||e.meta.auth!==t.authType?t._e():n("li",{staticClass:"el-submenu item"},[e.leaf?[n("li",{staticClass:"el-submenu"},[n("div",{staticClass:"el-submenu__title el-menu-item",class:t.$route.path==e.children[0].path?"is-active":"",staticStyle:{"padding-left":"20px",height:"56px","line-height":"56px",padding:"0 20px"},on:{click:function(n){t.$router.push(e.children[0].path)}}},[n("i",{class:e.iconCls})])])]:[n("div",{staticClass:"el-submenu__title",staticStyle:{"padding-left":"20px"},on:{mouseover:function(e){t.showMenu(s,!0)},mouseout:function(e){t.showMenu(s,!1)}}},[n("i",{class:e.iconCls})]),t._v(" "),n("ul",{staticClass:"el-menu submenu",class:"submenu-hook-"+s,on:{mouseover:function(e){t.showMenu(s,!0)},mouseout:function(e){t.showMenu(s,!1)}}},t._l(e.children,function(e){return e.hidden?t._e():n("li",{key:e.path,staticClass:"el-menu-item",class:t.$route.path==e.path?"is-active":"",staticStyle:{"padding-left":"40px"},on:{click:function(n){t.$router.push(e.path)}}},[t._v(t._s(e.name))])}),0)]],2)}),0)],1),t._v(" "),n("section",{staticClass:"content-container"},[n("div",{staticClass:"grid-content bg-purple-light"},[n("el-col",{staticClass:"breadcrumb-container",attrs:{span:24}},[n("strong",{staticClass:"title"},[t._v(t._s(t.$route.name))]),t._v(" "),n("el-breadcrumb",{staticClass:"breadcrumb-inner",attrs:{separator:"/"}},t._l(t.$route.matched,function(e){return n("el-breadcrumb-item",{key:e.path},[t._v("\n          "+t._s(e.name)+"\n        ")])}),1)],1),t._v(" "),n("el-col",{staticClass:"content-wrapper",attrs:{span:24}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)],1)])])],1)},staticRenderFns:[]};var E=n("VU/8")(S,L,!1,function(t){n("qpM9")},"data-v-3e13c603",null).exports,F={filters:{statusFilter:function(t){return{published:"success",draft:"gray",deleted:"danger"}[t]}},data:function(){return{list:null,listLoading:!0}},created:function(){this.socketApi.setCallback(this.setSession),this.socketApi.sendSock({code:"2004",message:"getServiceList"})},methods:{fetchData:function(){var t=this;this.listLoading=!0,this.$axios.post("/admin/servicelist",{}).then(function(e){t.list=e.data.data.items,t.listLoading=!1})},setSession:function(t){"2004"===(t=JSON.parse(t)).code&&(this.listLoading=!0,this.list=t.data.items,this.listLoading=!1,this.socketApi.sendSock({code:"2004",message:"客户端调试信息"}))}}},U={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("p"),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"工号"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.acount)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"姓名",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.name)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"处理挂号单数",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.registersNum))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"上传讲座数",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.lecturesNum)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"上传体检推荐数",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.recommendNum)+"\n      ")]}}])})],1)],1)},staticRenderFns:[]},T=n("VU/8")(F,U,!1,null,null,null).exports,N={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("p"),t._v(" "),n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"客服工号"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}})],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"客服姓名"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"登录密码"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:t.form.pass,callback:function(e){t.$set(t.form,"pass",e)},expression:"form.pass"}})],1)],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("创建")]),t._v(" "),n("el-button",{on:{click:t.onCancel}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var A=n("VU/8")({data:function(){return{form:{}}},methods:{onSubmit:function(){var t=this;null!=this.form.account&&null!=this.form.name&&null!=this.form.pass?this.$axios.post("/admin/addService",{account:this.form.account,name:this.form.name,pass:this.form.pass}).then(function(e){"2000"===e.data.status?(t.$message("创建成功"),t.form={}):t.openError(e.data.message)}).catch(function(){t.openError("系统错误")}):this.openWarn("输入不能为空")},openWarn:function(t){this.$alert(t,"警告",{confirmButtonText:"确定",callback:function(t){}})},openError:function(t){this.$alert(t,"错误",{confirmButtonText:"确定",callback:function(t){}})},onCancel:function(){this.$message({message:"放弃添加",type:"warning"}),this.form={}}}},N,!1,function(t){n("K3QU")},"data-v-5aecfab9",null).exports,R={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("p"),t._v(" "),n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"医生账号"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}})],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"医生姓名"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"登录密码"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:t.form.pass,callback:function(e){t.$set(t.form,"pass",e)},expression:"form.pass"}})],1)],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("创建")]),t._v(" "),n("el-button",{on:{click:t.onCancel}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var W=n("VU/8")({data:function(){return{form:{}}},methods:{onSubmit:function(){var t=this;null!=this.form.account&&null!=this.form.name&&null!=this.form.pass?this.$axios.post("/admin/addDoctor",{account:this.form.account,name:this.form.name,pass:this.form.pass}).then(function(e){"2000"===e.data.status?(t.$message("创建成功"),t.form={}):t.openError(e.data.message)}).catch(function(){t.openError("系统错误")}):this.openWarn("输入不能为空")},onCancel:function(){this.$message({message:"放弃添加",type:"warning"}),this.form={}},openWarn:function(t){this.$alert(t,"警告",{confirmButtonText:"确定",callback:function(t){}})},openError:function(t){this.$alert(t,"错误",{confirmButtonText:"确定",callback:function(t){}})}}},R,!1,function(t){n("wMEW")},"data-v-1285bec2",null).exports,B={data:function(){return{form:{}}},methods:{onSubmit:function(){var t=this;null!=this.form.account?this.$axios.post("/admin/changeDoctor",{account:this.form.account,name:this.form.name,class:this.form.class,blief:this.form.blief}).then(function(e){"2000"===e.data.status?t.$message("修改成功"):t.openError(e.data.message)}).catch(function(){t.openError("系统错误")}):this.openWarn("输入不能为空")},onCancel:function(){this.$message({message:"放弃添加",type:"warning"}),this.form={}},beforeUpload:function(t){var e=new FormData;e.append("file",t),e.append("name",this.form.name),e.append("account",this.form.account),e.append("class",this.form.class),e.append("blief",this.form.blief),this.$axios.post("/admin/changeDoctor",e).then(function(t){alert("成功")})},newSubmitForm:function(){this.$refs.newupload.submit()},doUpload:function(){return"/useless"},openWarn:function(t){this.$alert(t,"警告",{confirmButtonText:"确定",callback:function(t){}})},openError:function(t){this.$alert(t,"错误",{confirmButtonText:"确定",callback:function(t){}})}}},M={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("p"),t._v(" "),n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"180px"}},[n("el-form-item",{attrs:{label:"医生账号(不能为空)"}},[n("el-col",{attrs:{span:20}},[n("el-input",{attrs:{placeholder:"不能为空"},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}})],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"医生姓名"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"医生科室"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:t.form.class,callback:function(e){t.$set(t.form,"class",e)},expression:"form.class"}})],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"医生简介"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:t.form.blief,callback:function(e){t.$set(t.form,"blief",e)},expression:"form.blief"}})],1)],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("上传")]),t._v(" "),n("el-button",{on:{click:t.onCancel}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var D=n("VU/8")(B,M,!1,function(t){n("5paF")},"data-v-13af73cd",null).exports,O={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("p"),t._v(" "),n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"要修改的账号"}},[n("el-col",{attrs:{span:20}},[n("el-input",{attrs:{placeholder:"医生为账号、客服为工号"},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}})],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"修改内容"}},[n("el-select",{attrs:{placeholder:"请选择修改类型"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[n("el-option",{attrs:{label:"修改姓名",value:"changeName"}}),t._v(" "),n("el-option",{attrs:{label:"修改密码",value:"changPass"}})],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"修改为"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}})],1)],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("提交")]),t._v(" "),n("el-button",{on:{click:t.onCancel}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var V=n("VU/8")({data:function(){return{form:{}}},methods:{onSubmit:function(){var t=this;null!=this.form.account&&null!=this.form.type&&null!=this.form.value?this.$axios.post("/admin/changeAccount",{account:this.form.account,type:this.form.type,value:this.form.value}).then(function(e){"2000"===e.data.status?(t.$message("修改成功"),t.form={}):t.openError(e.data.message)}).catch(function(){t.openError("系统错误")}):this.openWarn("输入不能为空")},onCancel:function(){this.$message({message:"放弃添加",type:"warning"}),this.form={}},openWarn:function(t){this.$alert(t,"警告",{confirmButtonText:"确定",callback:function(t){}})},openError:function(t){this.$alert(t,"错误",{confirmButtonText:"确定",callback:function(t){}})}}},O,!1,function(t){n("XKfB")},"data-v-363e6560",null).exports,I={filters:{statusFilter:function(t){return{published:"success",draft:"gray",deleted:"danger"}[t]}},data:function(){return{list:null,listLoading:!0}},created:function(){this.socketApi.setCallback(this.setSession),this.socketApi.sendSock({code:"2007",message:"getServiceOnLineList"})},methods:{setSession:function(t){"2007"===(t=JSON.parse(t)).code&&(this.listLoading=!0,this.list=t.data.items,this.listLoading=!1,this.socketApi.sendSock({code:"2007",message:"客户端调试信息"}))}}},P={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("p"),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"工号"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.acount)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"姓名",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.name)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"处理挂号单数",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.registersNum))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"上传讲座数",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.lecturesNum)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"上传体检推荐数",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.recommendNum)+"\n      ")]}}])})],1)],1)},staticRenderFns:[]},q=n("VU/8")(I,P,!1,null,null,null).exports,J={filters:{statusFilter:function(t){return{published:"success",draft:"gray",deleted:"danger"}[t]}},data:function(){return{list:null,listLoading:!0,form:{}}},created:function(){Date.prototype.format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t}},methods:{fetchData:function(){var t=this;this.listLoading=!0,this.$axios.post("/admin/servicelist",{}).then(function(e){t.list=e.data.data.items,t.listLoading=!1})},setSession:function(t){"2004"===(t=JSON.parse(t)).code&&(this.listLoading=!0,this.list=t.data.items,this.listLoading=!1,this.socketApi.sendSock({code:"2004",message:"客户端调试信息"}))},onSubmit:function(){var t=this;console.log(this.form.date1),null!=this.form.date1&&null!=this.form.date2?this.$axios.post("/admin/queryService",{startTime:new Date(this.form.date1).format("yyyy/MM/dd"),endTime:new Date(this.form.date2).format("yyyy/MM/dd")}).then(function(e){"2005"===e.data.code?(t.list=e.data.data.items,t.listLoading=!1,t.$message("查询成功")):t.openError(e.data.message)}).catch(function(){t.openError("系统错误")}):this.openWarn("输入不能为空")},onCancel:function(){this.$message({message:"放弃查询",type:"warning"}),this.form={}},openWarn:function(t){this.$alert(t,"消息",{confirmButtonText:"确定",callback:function(t){}})},openError:function(t){this.$alert(t,"错误",{confirmButtonText:"确定",callback:function(t){}})}}},j={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("p"),t._v(" "),n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"选择统计时间段"}},[n("el-col",{attrs:{span:10}},[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择开始时间"},model:{value:t.form.date1,callback:function(e){t.$set(t.form,"date1",e)},expression:"form.date1"}})],1),t._v(" "),n("el-col",{staticClass:"line",attrs:{span:2}},[t._v("-")]),t._v(" "),n("el-col",{attrs:{span:10}},[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择结束时间"},model:{value:t.form.date2,callback:function(e){t.$set(t.form,"date2",e)},expression:"form.date2"}})],1),t._v(" "),n("el-col",{attrs:{span:1}},[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")])],1),t._v(" "),n("el-col",{attrs:{span:1}},[n("el-button",{staticStyle:{width:"100%"},on:{click:t.onCancel}},[t._v("取消")])],1)],1)],1),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"工号"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.acount)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"姓名",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.name)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"处理挂号单数",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.registersNum))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"上传讲座数",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.lecturesNum)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"上传体检推荐数",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.recommendNum)+"\n      ")]}}])})],1)],1)},staticRenderFns:[]},z=n("VU/8")(J,j,!1,null,null,null).exports,Q={data:function(){return{form:{}}},methods:{onSubmit:function(){var t=this;null!=this.form.account&&null!=this.form.name&&null!=this.form.class&&null!=this.form.blief?this.$axios.post("/admin/changeDoctor",{account:this.form.account,name:this.form.name,class:this.form.class,blief:this.form.blief}).then(function(e){"2000"===e.data.status?t.$message("修改成功"):t.openError(e.data.message)}).catch(function(){t.openError("系统错误")}):this.openWarn("输入不能为空")},onCancel:function(){this.$message({message:"放弃添加",type:"warning"}),this.form={}},beforeUpload:function(t){var e=new FormData;e.append("file",t),e.append("name",this.form.name),e.append("account",this.form.account),e.append("class",this.form.class),e.append("blief",this.form.blief),this.$axios.post("/admin/changeDoctor",e).then(function(t){alert("成功")})},newSubmitForm:function(){this.$refs.newupload.submit()},doUpload:function(){return"/useless"},openWarn:function(t){this.$alert(t,"警告",{confirmButtonText:"确定",callback:function(t){}})},openError:function(t){this.$alert(t,"错误",{confirmButtonText:"确定",callback:function(t){}})}}},K={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("p"),t._v(" "),n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"180px"}},[n("el-form-item",{attrs:{label:"医生账号(不能为空)"}},[n("el-col",{attrs:{span:20}},[n("el-input",{attrs:{placeholder:"不能为空"},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}})],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"医生姓名"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"医生科室"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:t.form.class,callback:function(e){t.$set(t.form,"class",e)},expression:"form.class"}})],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"医生简介"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:t.form.blief,callback:function(e){t.$set(t.form,"blief",e)},expression:"form.blief"}})],1)],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("上传")]),t._v(" "),n("el-button",{on:{click:t.onCancel}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var G=n("VU/8")(Q,K,!1,function(t){n("bMFp")},"data-v-6756596a",null).exports,H={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("p"),t._v(" "),n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"标题"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"摘要"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:t.form.blief,callback:function(e){t.$set(t.form,"blief",e)},expression:"form.blief"}})],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"内容"}},[n("el-col",{attrs:{span:20}},[n("el-input",{attrs:{autosize:{minRows:5,maxRows:20},type:"textarea"},model:{value:t.form.text,callback:function(e){t.$set(t.form,"text",e)},expression:"form.text"}})],1)],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("上传")]),t._v(" "),n("el-button",{on:{click:t.onCancel}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var X=n("VU/8")({data:function(){return{form:{}}},methods:{onSubmit:function(){var t=this;null!=this.form.title&&null!=this.form.blief&&null!=this.form.text?this.$axios.post("/service/postRecommendation",{title:this.form.title,blief:this.form.blief,text:this.form.text}).then(function(e){"2000"===e.data.status?(t.$message("创建成功"),t.form={}):t.$message({message:e.data.message,type:"error"})}).catch(function(){t.openError("系统错误")}):this.openWarn("不能为空")},onCancel:function(){this.$message({message:"放弃添加",type:"warning"}),this.form={}},openWarn:function(t){this.$alert(t,"消息",{confirmButtonText:"确定",callback:function(t){}})},openError:function(t){this.$alert(t,"错误",{confirmButtonText:"确定",callback:function(t){}})}}},H,!1,function(t){n("fOba")},"data-v-504278c2",null).exports,Y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("p"),t._v(" "),n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"180px"}},[n("el-form-item",{attrs:{label:"交易单号："}},[n("el-col",{attrs:{span:20}},[t._v("\n        "+t._s(t.regist.id)+"\n      ")])],1),t._v(" "),n("el-form-item",{attrs:{label:"客户账号："}},[n("el-col",{attrs:{span:20}},[t._v("\n        "+t._s(t.regist.userAccount)+"\n      ")])],1),t._v(" "),n("el-form-item",{attrs:{label:"用户姓名："}},[n("el-col",{attrs:{span:20}},[t._v("\n        "+t._s(t.regist.userName)+"\n      ")])],1),t._v(" "),n("el-form-item",{attrs:{label:"科室："}},[n("el-col",{attrs:{span:20}},[t._v("\n        "+t._s(t.regist.class)+"\n      ")])],1),t._v(" "),n("el-form-item",{attrs:{label:"备注："}},[n("el-col",{attrs:{span:20}},[t._v("\n        "+t._s(t.regist.others)+"\n      ")])],1),t._v(" "),n("el-form-item",{attrs:{label:"挂号结果"}},[n("el-col",{attrs:{span:20}},[n("el-input",{attrs:{autosize:{minRows:5,maxRows:20},type:"textarea"},model:{value:t.form.text,callback:function(e){t.$set(t.form,"text",e)},expression:"form.text"}})],1)],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("上传")]),t._v(" "),n("el-button",{on:{click:t.onCancel}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var Z=n("VU/8")({data:function(){return{regist:{},form:{}}},created:function(){var t=this;this.$axios.post("/service/getRegist",{}).then(function(e){"2000"===e.data.status?(t.$message("获取成功"),t.regist=e.data):(t.$message({message:"无可用挂号单",type:"error"}),t.$router.push("/service/regist_online"))}).catch(function(e){t.$message({message:"系统错误",type:"error"}),t.$router.push("/service/regist_online")})},methods:{onSubmit:function(){var t=this;null!=this.regist.id&&null!=this.form.text?this.$axios.post("/service/postRegist",{id:this.regist.id,result:this.form.text}).then(function(e){"2000"===e.data.status?t.$message("上传成功"):t.$message({message:e.data.message,type:"error"})}):this.openWarn("不能为空")},onCancel:function(){this.$message({message:"放弃添加",type:"warning"}),this.form={}},openWarn:function(t){this.$alert(t,"消息",{confirmButtonText:"确定",callback:function(t){}})},openError:function(t){this.$alert(t,"错误",{confirmButtonText:"确定",callback:function(t){}})}}},Y,!1,function(t){n("BUrd")},"data-v-1b5048a6",null).exports;function tt(){return localStorage.getItem("u_info")}function et(t,e,n,s){var a=new Date;a.setTime(a.getTime()+864e5*n),localStorage.setItem("u_info",m()({userAccount:t,userPass:e,remeberFlag:s,expires:a.toGMTString()}))}var nt={filters:{statusFilter:function(t){return{published:"success",draft:"gray",deleted:"danger"}[t]}},data:function(){return{list:null,listLoading:!0}},created:function(){this.socketApi.setCallback(this.setSession),this.socketApi.sendSock({code:"2008",message:"getRegistList"})},methods:{postRegist:function(t){var e=this;this.$axios.post("/service/ownRegist",{id:t.id,user_account:t.account,service_account:JSON.parse(this.userApi.getUserCookie()).userAccount}).then(function(t){"2000"===t.data.status?e.openWarn("接单成功"):e.openError(t.data.message)})},setSession:function(t){"2008"===(t=JSON.parse(t)).code&&(this.listLoading=!0,this.list=t.data.items,this.listLoading=!1,this.socketApi.sendSock(m()({code:"2008",message:"客户端调试信息"})))},openWarn:function(t){this.$alert(t,"消息",{confirmButtonText:"确定",callback:function(t){}})},openError:function(t){this.$alert(t,"错误",{confirmButtonText:"确定",callback:function(t){}})}}},st={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("p"),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"客户账号"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.account)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"客户姓名",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.name)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"挂号科室",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.class))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"备注",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.others)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(n){t.postRegist(e.row)}}},[t._v("接单")])]}}])})],1)],1)},staticRenderFns:[]},at=n("VU/8")(nt,st,!1,null,null,null).exports,ot={data:function(){return{form:{type:1},videoFlag:!1}},methods:{onSubmit:function(){this.$refs.newupload.submit()},onCancel:function(){this.$message({message:"放弃添加",type:"warning"}),this.form={}},beforeUpload:function(t){if(null!=t&&null!=this.form.title){var e=new FormData;e.append("file",t),e.append("title",this.form.title),1===this.form.type?this.$axios.post("/service/uploadLecturevideo",e).then(function(t){this.openWarn("上传成功")}).catch():2===this.form.type&&this.$axios.post("/service/uploadLectureaudio",e).then(function(t){this.openWarn("上传成功")}).catch()}else this.openWarn("不能为空")},newSubmitForm:function(){this.$refs.newupload.submit()},doUpload:function(){return"/useless"},uploadVideoProcess:function(t,e,n){this.videoFlag=!0,this.videoUploadPercent=1*e.percentage.toFixed(0)},openWarn:function(t){this.$alert(t,"消息",{confirmButtonText:"确定",callback:function(t){}})},openError:function(t){this.$alert(t,"错误",{confirmButtonText:"确定",callback:function(t){}})}}},it={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("p"),t._v(" "),n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"180px"}},[n("el-form-item",{attrs:{label:"标题(不能为空)"}},[n("el-col",{attrs:{span:20}},[n("el-input",{attrs:{placeholder:"不能为空"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"讲座类型"}},[n("el-radio-group",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[n("el-radio",{attrs:{label:1}},[t._v("视频")]),t._v(" "),n("el-radio",{attrs:{label:2}},[t._v("音频")])],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"上传文件(不能为空)"}},[n("el-col",{attrs:{span:20}},[n("el-upload",{ref:"newupload",staticClass:"upload-file",attrs:{drag:"",accept:".mp4, .mp3, .wav",limit:1,"list-type":"picture-card",action:t.doUpload(),"before-upload":t.beforeUpload,multiple:"","auto-upload":!1}},[n("i",{staticClass:"el-icon-upload"}),t._v(" "),n("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),n("em",[t._v("点击上传")]),t._v("，不能为空")])])],1)],1),t._v(" "),n("el-form-item",{attrs:{label:""}},[1==t.videoFlag?n("el-progress",{staticStyle:{"margin-top":"30px"},attrs:{type:"circle",percentage:t.videoUploadPercent}}):t._e()],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("上传")]),t._v(" "),n("el-button",{on:{click:t.onCancel}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var lt=n("VU/8")(ot,it,!1,function(t){n("jAj6")},"data-v-63fae0f8",null).exports,rt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("p"),t._v(" "),n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"标题"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"摘要"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:t.form.blief,callback:function(e){t.$set(t.form,"blief",e)},expression:"form.blief"}})],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"内容"}},[n("el-col",{attrs:{span:20}},[n("el-input",{attrs:{autosize:{minRows:5,maxRows:20},type:"textarea"},model:{value:t.form.text,callback:function(e){t.$set(t.form,"text",e)},expression:"form.text"}})],1)],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("上传")]),t._v(" "),n("el-button",{on:{click:t.onCancel}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var ct=n("VU/8")({data:function(){return{form:{}}},methods:{onSubmit:function(){var t=this;null!=this.form.title&&null!=this.form.blief&&null!=this.form.text?this.$axios.post("/service/uploadLecturetext",{title:this.form.title,blief:this.form.blief,text:this.form.text}).then(function(e){"2000"===e.data.status?(t.$message("创建成功"),t.form={}):t.openError(e.data.message)}).catch(function(){t.openError("系统错误")}):this.openWarn("不能为空")},onCancel:function(){this.$message({message:"放弃添加",type:"warning"}),this.form={}},openWarn:function(t){this.$alert(t,"警告",{confirmButtonText:"确定",callback:function(t){}})},openError:function(t){this.$alert(t,"错误",{confirmButtonText:"确定",callback:function(t){}})}}},rt,!1,function(t){n("KCrg")},"data-v-4664a88e",null).exports,ut={filters:{statusFilter:function(t){return{published:"success",draft:"gray",deleted:"danger"}[t]}},data:function(){return{list:null,listLoading:!0,doctorList:null}},created:function(){this.socketApi.setCallback(this.setSession),this.socketApi.sendSock({code:"2009",message:" getDoctorList "}),this.socketApi.sendSock({code:"2010",message:" getWaitList "})},methods:{setSession:function(t){"2009"===(t=JSON.parse(t)).code?(this.doctorList=t.data.items,this.socketApi.sendSock({code:"2009",message:"客户端调试信息"})):"2010"===t.code&&(this.listLoading=!0,this.list=t.data.items,this.listLoading=!1,this.socketApi.sendSock({code:"2010",message:"客户端调试信息"}))},postRegist:function(t){var e=this;null!=t.doctorAccount?this.$axios.post("/service/setWebChat",{userAccount:t.account,doctorAccount:t.doctorAccount}).then(function(t){"2000"===t.data.status?e.openWarn("调度成功"):e.openError(t.data.message)}).catch(function(){e.openError("系统错误")}):this.openWarn("请选择医生")},openWarn:function(t){this.$alert(t,"消息",{confirmButtonText:"确定",callback:function(t){}})},openError:function(t){this.$alert(t,"错误",{confirmButtonText:"确定",callback:function(t){}})}}},mt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("p"),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{label:"账号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.account)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"姓名",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.name)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"备注",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.others))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"分配医生",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-select",{attrs:{placeholder:"请选择在线医生"},model:{value:e.row.doctorAccount,callback:function(n){t.$set(e.row,"doctorAccount",n)},expression:"scope.row.doctorAccount"}},t._l(t.doctorList,function(t){return n("el-option",{key:t.name,attrs:{label:t.name,value:t.account}})}),1)]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(n){t.postRegist(e.row)}}},[t._v("分配")])]}}])})],1)],1)},staticRenderFns:[]},dt=n("VU/8")(ut,mt,!1,null,null,null).exports,ft={filters:{statusFilter:function(t){return{published:"success",draft:"gray",deleted:"danger"}[t]}},data:function(){return{list:null,listLoading:!0}},created:function(){this.socketApi.setCallback(this.setSession),this.socketApi.sendSock({code:"2009",message:" getDoctorList "})},methods:{setSession:function(t){"2009"===(t=JSON.parse(t)).code&&(this.listLoading=!0,this.list=t.data.items,sessionStorage.setItem("doctorOnline",m()(this.list)),this.listLoading=!1,this.socketApi.sendSock({code:"2009",message:"客户端调试信息"}))}}},pt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("p"),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{label:"姓名",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.name)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"科室",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.class))])]}}])})],1)],1)},staticRenderFns:[]},ht=n("VU/8")(ft,pt,!1,null,null,null).exports,vt={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var gt=n("VU/8")({name:"UserList"},vt,!1,function(t){n("1qlN")},"data-v-2fefc612",null).exports,_t={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("p"),t._v(" "),n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"用户账号"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}})],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"用户姓名"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"内容"}},[n("el-col",{attrs:{span:20}},[n("el-input",{attrs:{autosize:{minRows:5,maxRows:20},type:"textarea"},model:{value:t.form.text,callback:function(e){t.$set(t.form,"text",e)},expression:"form.text"}})],1)],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("上传")]),t._v(" "),n("el-button",{on:{click:t.onCancel}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var bt=n("VU/8")({data:function(){return{form:{}}},methods:{onSubmit:function(){var t=this;null!=this.form.account&&null!=this.form.name&&null!=this.form.text?this.$axios.post("/doctor/postReport",{account:this.form.account,name:this.form.name,result:this.form.text}).then(function(e){"2000"===e.data.status?(t.$message("创建成功"),t.form={}):t.openError(e.data.message)}).catch(function(){t.openError("系统错误")}):this.openWarn("输入不能为空")},onCancel:function(){this.$message({message:"放弃添加",type:"warning"}),this.form={}},openWarn:function(t){this.$alert(t,"警告",{confirmButtonText:"确定",callback:function(t){}})},openError:function(t){this.$alert(t,"错误",{confirmButtonText:"确定",callback:function(t){}})}}},_t,!1,function(t){n("EcwT")},"data-v-c978175e",null).exports,kt=n("Gfsd"),xt=n.n(kt),yt=xt.a.createClient({mode:"live",codec:"h264"}),$t=null,wt={data:function(){return{form:{}}},created:function(){null==($t=this.$route.query.id)&&(this.$message({message:"无连接请求",type:"error"}),this.$router.push("/doctor")),yt.init("df82778c111c4c57aa3f13fbca9f40cc",function(){console.log("AgoraRTC client initialized")},function(t){console.log("AgoraRTC client init failed",t)});var t=null;yt.join(null,$t,null,function(e){var n;t=e,console.log("User "+t+" join channel successfully"),(n=xt.a.createStream({streamID:t,audio:!0,video:!1,screen:!1})).init(function(){console.log("getUserMedia successfully"),n.play("agora_local"),yt.publish(n,function(t){console.log("Publish local stream error: "+t)})},function(t){console.log("getUserMedia failed",t)}),yt.on("stream-published",function(t){console.log("Publish local stream successfully")}),yt.on("stream-added",function(t){var e=t.stream;console.log("New stream added: "+e.getId()),yt.subscribe(e,function(t){console.log("Subscribe stream failed",t)})}),yt.on("stream-subscribed",function(t){var e=t.stream;console.log("Subscribe remote stream successfully: "+e.getId()),e.play("agora_remote")})},function(t){console.log("Join channel failed",t)})},methods:{openWarn:function(t){this.$alert(t,"警告",{confirmButtonText:"确定",callback:function(t){}})},openError:function(t){this.$alert(t,"错误",{confirmButtonText:"确定",callback:function(t){}})},setDown:function(){yt.leave(function(){console.log("Leave channel successfully")},function(t){console.log("Leave channel failed")}),this.socketApi.sendSock({code:"2012",message:"客户端主动挂断"}),this.$message({type:"success",message:"已挂断!"}),this.$router.push("/doctor")}}},Ct={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app-container"},[e("p"),this._v(" "),e("div",{attrs:{id:"agora_remote"}}),this._v(" "),e("div",{attrs:{id:"agora_local"}}),this._v(" "),e("el-button",{on:{click:this.setDown}},[this._v("结束问诊")])],1)},staticRenderFns:[]};var St=n("VU/8")(wt,Ct,!1,function(t){n("4tA4")},"data-v-1c770796",null).exports;i.default.use(c.a);var Lt=new c.a({routes:[{path:"/",name:"请登录",component:v,meta:{isLogin:!1}},{path:"/login",component:v,name:"请登录",meta:{isLogin:!1}},{path:"/admin",component:y,name:"账号管理",iconCls:"fa fa-address-card",meta:{isLogin:!0,auth:"admin"},children:[{path:"/admin/add_service",component:A,name:"添加客服",meta:{isLogin:!0,auth:"admin"}},{path:"/admin/add_doctor",component:W,name:"添加医生",meta:{isLogin:!0,auth:"admin"}},{path:"/admin/change_account",component:V,name:"修改账号",meta:{isLogin:!0,auth:"admin"}},{path:"/admin/change_doctor",component:D,name:"医生信息修改",meta:{isLogin:!0,auth:"admin"}}]},{path:"/admin/",component:y,name:"客服管理",iconCls:"fa fa-bar-chart",meta:{isLogin:!0,auth:"admin"},children:[{path:"/admin/service_list1",component:T,name:"所有客服",meta:{isLogin:!0,auth:"admin"}},{path:"/admin/service_list2",component:q,name:"在线客服",meta:{isLogin:!0,auth:"admin"}},{path:"/admin/service_list3",component:z,name:"工作量统计",meta:{isLogin:!0,auth:"admin"}}]},{path:"/service",component:E,name:"信息发布",iconCls:"fa fa-edit",meta:{isLogin:!0,auth:"service"},children:[{path:"/service/upload_lecture",component:lt,name:"音视频讲座上传",meta:{isLogin:!0,auth:"service"}},{path:"/service/upload_tlecture",component:ct,name:"文字讲座上传",meta:{isLogin:!0,auth:"service"}},{path:"/service/upload_recommendation",component:X,name:"体检推荐发布",meta:{isLogin:!0,auth:"service"}},{path:"/service/change_doctor",component:G,name:"医生信息录入",meta:{isLogin:!0,auth:"service"}}]},{path:"/service",component:E,name:"在线挂号",iconCls:"fa fa-braille",meta:{isLogin:!0,auth:"service"},children:[{path:"/service/regist_online",component:at,name:"挂号列表",meta:{isLogin:!0,auth:"service"}},{path:"/admin/post_regist",component:Z,name:"挂号反馈",meta:{isLogin:!0,auth:"service"}}]},{path:"/service",component:E,name:"语音问诊调配",iconCls:"fa fa-comments",meta:{isLogin:!0,auth:"service"},children:[{path:"/service/service_list1",component:dt,name:"等待调配列表",meta:{isLogin:!0,auth:"service"}},{path:"/service/service_list2",component:ht,name:"在线医生列表",meta:{isLogin:!0,auth:"service"}}]},{path:"/doctor",component:C,name:"上传健康报告",iconCls:"fa fa-edit",meta:{isLogin:!0,auth:"doctor"},children:[{path:"/doctor/user_list",component:gt,name:"用户列表",meta:{isLogin:!0,auth:"doctor"}},{path:"/doctor/post_report",component:bt,name:"报告编辑",meta:{isLogin:!0,auth:"doctor"}}]},{path:"/doctor",component:C,name:"语音问诊",iconCls:"fa fa-comments",meta:{isLogin:!0,auth:"doctor"},children:[{path:"/doctor/webchat/",component:St,name:"在线语音",meta:{isLogin:!0,auth:"doctor"}}]}]}),Et=n("mtWM"),Ft=n.n(Et),Ut=n("zL8q"),Tt=n.n(Ut),Nt=(n("tvR6"),n("e0XP"),null),At=function(){},Rt="8082";function Wt(t){(Nt=new WebSocket("ws://localhost:"+Rt+"/ws?"+t)).onmessage=function(t){!function(t){At(t.data)}(t)},Nt.onclose=function(t){!function(t){console.log("connection closed ("+t.code+")")}(t)},Nt.onopen=function(){console.log("连接成功")},Nt.onerror=function(){this.$message.error("WebSocket连接发生错误")}}function Bt(t){Nt.readyState===Nt.OPEN?function(t){Nt.send(m()(t))}(t):(Nt.readyState,Nt.CONNECTING,setTimeout(function(){Bt(t)},1e3))}function Mt(t){At=t}i.default.prototype.cookieApi=s,i.default.prototype.userApi=a,Ft.a.defaults.timeout=5e3,Ft.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",Ft.a.defaults.baseURL="/",i.default.prototype.$axios=Ft.a,i.default.prototype.$message=Ut.Message,i.default.use(Tt.a),i.default.prototype.socketApi=o,i.default.config.productionTip=!1,Lt.beforeEach(function(t,e,n){t.matched.some(function(t){return t.meta.isLogin})?sessionStorage.getItem("auth")&&sessionStorage.getItem("auth")==t.meta.auth?n():n({path:"/login",query:{redirect:t.fullPath}}):n()}),new i.default({el:"#app",router:Lt,components:{App:r},render:function(t){return t(r)}}).$mount("#app")},W9Ya:function(t,e,n){t.exports=n.p+"static/img/20170117034706_QArW4.a9a3fe2.jpeg"},XKfB:function(t,e){},bMFp:function(t,e){},e0XP:function(t,e){},fOba:function(t,e){},iJbb:function(t,e){},jAj6:function(t,e){},qpM9:function(t,e){},tvR6:function(t,e){},vsLT:function(t,e){},wMEW:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.206d93ff8f2b41d0ac84.js.map