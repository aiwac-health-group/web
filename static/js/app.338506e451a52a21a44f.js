webpackJsonp([1],{"/wQy":function(e,t){},"1qlN":function(e,t){},"27+u":function(e,t){},"33+y":function(e,t){},"3f3l":function(e,t){},"4NlE":function(e,t){},EWQ5:function(e,t){},KkMG:function(e,t){},LmSO:function(e,t){},"M+QU":function(e,t){},MRrV:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={};n.d(s,"getTokenCookie",function(){return d}),n.d(s,"setTokenCookie",function(){return f});var a={};n.d(a,"setUserCookie",function(){return te}),n.d(a,"getUserCookie",function(){return ee});var o={};n.d(o,"sendSock",function(){return Me}),n.d(o,"initWebSocket",function(){return We}),n.d(o,"setCallback",function(){return Be});var i=n("7+uW"),l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var r=n("VU/8")({name:"App"},l,!1,function(e){n("/wQy")},null,null).exports,c=n("/ocq"),u=n("mvHQ"),m=n.n(u);function d(){if(!(document.cookie.length>0))return null;for(var e=document.cookie.split("; "),t=0;t<e.length;t++){var n=e[t].split("=");if("token"===n[0])return n[1]}}function f(e){var t=new Date;t.setTime(t.getTime()+864e5),window.document.cookie="token="+e.toString()+";path=/;expires="+t.toGMTString()}var p={data:function(){return{logining:!1,ruleForm2:{account:"",checkPass:"",checked:!1},rules2:{account:[{required:!0,message:"请输入账号",trigger:"blur"}],checkPass:[{required:!0,message:"请输入密码",trigger:"blur"}]},checked:!0}},created:function(){var e=this.userApi.getUserCookie();null!=(e=JSON.parse(e))&&""!=e.name&&(this.ruleForm2.account=e.userAccount,this.ruleForm2.checkPass=e.userPass,this.ruleForm2.checked=e.remeberFlag)},methods:{handleReset2:function(){this.$refs.ruleForm2.resetFields()},handleSubmit2:function(e){var t=this;this.$refs.ruleForm2.validate(function(e){e&&t.$axios.post("/login",{account:t.ruleForm2.account,password:t.ruleForm2.checkPass}).then(function(e){200!=e.status?t.$message.error("服务出错"+e.status):"success"==e.data.loginFlag?(sessionStorage.setItem("auth",e.data.userFlag),t.cookieApi.setTokenCookie(e.data.token),console.log(e.data.token),t.$axios.defaults.headers.post.Authorization="bearer "+e.data.token,sessionStorage.setItem("user",m()({name:e.data.userName})),t.$message.success("登录成功"),!0===t.checked?t.userApi.setUserCookie(t.ruleForm2.account,t.ruleForm2.checkPass,7,!0):t.userApi.setUserCookie("","",-1,""),t.$router.push("/"+e.data.userFlag)):t.$message.error("账号或密码错误")})})}}},h={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm login-container",attrs:{model:e.ruleForm2,rules:e.rules2,"label-position":"left","label-width":"0px"}},[n("h3",{staticClass:"title"},[e._v("系统登录")]),e._v(" "),n("el-form-item",{attrs:{prop:"account"}},[n("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.ruleForm2.account,callback:function(t){e.$set(e.ruleForm2,"account",t)},expression:"ruleForm2.account"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"checkPass"}},[n("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:e.ruleForm2.checkPass,callback:function(t){e.$set(e.ruleForm2,"checkPass",t)},expression:"ruleForm2.checkPass"}})],1),e._v(" "),n("el-checkbox",{staticClass:"remember",attrs:{checked:""},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("记住密码")]),e._v(" "),n("el-form-item",{staticStyle:{width:"100%"}},[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.logining},nativeOn:{click:function(t){return t.preventDefault(),e.handleSubmit2(t)}}},[e._v("登录")])],1)],1)},staticRenderFns:[]};var v=n("VU/8")(p,h,!1,function(e){n("LmSO")},null,null).exports,g={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h2",[this._v(this._s(this.msg))])])},staticRenderFns:[]};n("VU/8")({name:"Welcome",data:function(){return{msg:"Welcome!"}}},g,!1,function(e){n("vsLT")},"data-v-6ae56eca",null).exports;var _=n("W9Ya"),b=n.n(_),k={data:function(){return{sysName:"医疗服务平台",collapsed:!1,sysUserName:"",sysUserAvatar:b.a,timer:null,authType:"admin"}},methods:{onSubmit:function(){console.log("submit!")},handleopen:function(){},handleclose:function(){},handleselect:function(e,t){},logout:function(){var e=this;this.$confirm("确认退出吗?","提示",{}).then(function(){sessionStorage.removeItem("user"),e.$router.push("/login")}).catch(function(){})},collapse:function(){this.collapsed=!this.collapsed},showMenu:function(e,t){this.$refs.menuCollapsed.getElementsByClassName("submenu-hook-"+e)[0].style.display=t?"block":"none"},setTimer:function(){null==this.timer&&(this.timer=setInterval(function(){},1e3))}},created:function(){this.socketApi.initWebSocket("token="+d())},destroyed:function(){clearInterval(this.timer),this.timer=null},mounted:function(){var e=sessionStorage.getItem("user");e&&(e=JSON.parse(e),this.sysUserName=e.name||"")}},x={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{staticClass:"container"},[n("el-col",{staticClass:"header",attrs:{span:24}},[n("el-col",{staticClass:"logo",class:e.collapsed?"logo-collapse-width":"logo-width",attrs:{span:10}},[e._v("\n      "+e._s(e.collapsed?"":e.sysName)+"\n    ")]),e._v(" "),n("el-col",{attrs:{span:10}},[n("div",{staticClass:"tools",on:{click:function(t){return t.preventDefault(),e.collapse(t)}}},[n("i",{staticClass:"fa fa-align-justify"})])]),e._v(" "),n("el-col",{staticClass:"userinfo",attrs:{span:4}},[n("el-dropdown",{attrs:{trigger:"hover"}},[n("span",{staticClass:"el-dropdown-link userinfo-inner"},[n("img",{attrs:{src:this.sysUserAvatar}}),e._v(" "+e._s(e.sysUserName))]),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[e._v("我的消息")]),e._v(" "),n("el-dropdown-item",[e._v("设置")]),e._v(" "),n("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(t){return e.logout(t)}}},[e._v("退出登录")])],1)],1)],1)],1),e._v(" "),n("el-col",{staticClass:"main",attrs:{span:24}},[n("aside",{class:e.collapsed?"menu-collapsed":"menu-expanded"},[n("el-menu",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],staticClass:"el-menu-vertical-demo",staticStyle:{width:"230px"},attrs:{"default-active":e.$route.path,"unique-opened":"",router:""},on:{open:e.handleopen,close:e.handleclose,select:e.handleselect}},[e._l(e.$router.options.routes,function(t,s){return t.hidden||t.meta.auth!==e.authType?e._e():[t.leaf?e._e():n("el-submenu",{attrs:{index:s+""}},[n("template",{slot:"title"},[n("i",{class:t.iconCls}),e._v(e._s(t.name))]),e._v(" "),e._l(t.children,function(t){return t.hidden?e._e():n("el-menu-item",{key:t.path,attrs:{index:t.path}},[e._v(e._s(t.name))])})],2),e._v(" "),t.leaf&&t.children.length>0?n("el-menu-item",{attrs:{index:t.children[0].path}},[n("i",{class:t.iconCls}),e._v(e._s(t.children[0].name))]):e._e()]})],2),e._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.collapsed,expression:"collapsed"}],ref:"menuCollapsed",staticClass:"el-menu el-menu-vertical-demo collapsed"},e._l(e.$router.options.routes,function(t,s){return t.hidden||t.meta.auth!==e.authType?e._e():n("li",{staticClass:"el-submenu item"},[t.leaf?[n("li",{staticClass:"el-submenu"},[n("div",{staticClass:"el-submenu__title el-menu-item",class:e.$route.path==t.children[0].path?"is-active":"",staticStyle:{"padding-left":"20px",height:"56px","line-height":"56px",padding:"0 20px"},on:{click:function(n){e.$router.push(t.children[0].path)}}},[n("i",{class:t.iconCls})])])]:[n("div",{staticClass:"el-submenu__title",staticStyle:{"padding-left":"20px"},on:{mouseover:function(t){e.showMenu(s,!0)},mouseout:function(t){e.showMenu(s,!1)}}},[n("i",{class:t.iconCls})]),e._v(" "),n("ul",{staticClass:"el-menu submenu",class:"submenu-hook-"+s,on:{mouseover:function(t){e.showMenu(s,!0)},mouseout:function(t){e.showMenu(s,!1)}}},e._l(t.children,function(t){return t.hidden?e._e():n("li",{key:t.path,staticClass:"el-menu-item",class:e.$route.path==t.path?"is-active":"",staticStyle:{"padding-left":"40px"},on:{click:function(n){e.$router.push(t.path)}}},[e._v(e._s(t.name))])}),0)]],2)}),0)],1),e._v(" "),n("section",{staticClass:"content-container"},[n("div",{staticClass:"grid-content bg-purple-light"},[n("el-col",{staticClass:"breadcrumb-container",attrs:{span:24}},[n("strong",{staticClass:"title"},[e._v(e._s(e.$route.name))]),e._v(" "),n("el-breadcrumb",{staticClass:"breadcrumb-inner",attrs:{separator:"/"}},e._l(e.$route.matched,function(t){return n("el-breadcrumb-item",{key:t.path},[e._v("\n              "+e._s(t.name)+"\n            ")])}),1)],1),e._v(" "),n("el-col",{staticClass:"content-wrapper",attrs:{span:24}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)],1)])])],1)},staticRenderFns:[]};var y=n("VU/8")(k,x,!1,function(e){n("EWQ5")},"data-v-02ac8096",null).exports,$={data:function(){return{sysName:"医疗服务平台",collapsed:!1,sysUserName:"",sysUserAvatar:b.a,timer:null,authType:"doctor"}},methods:{onSubmit:function(){console.log("submit!")},handleopen:function(){},handleclose:function(){},onCall:function(e){2011===(e=JSON.parse(e)).code&&(this.socketApi.sendSock({code:2011,message:"调试"}),this.openBox(e.roomid))},openBox:function(e){var t=this;this.$confirm("有新用户问诊, 是否接听?","提示",{confirmButtonText:"接听",cancelButtonText:"拒绝",type:"warning"}).then(function(){t.$message({type:"success",message:"接听成功!"}),t.$router.push({path:"/doctor/webchat/",query:{id:e}})}).catch(function(){t.socketApi.sendSock({code:2013,message:"客户端拒绝接听"}),t.$message({type:"info",message:"已取消接听"})})},handleselect:function(e,t){},logout:function(){var e=this;this.$confirm("确认退出吗?","提示",{}).then(function(){sessionStorage.removeItem("user"),e.$router.push("/login")}).catch(function(){})},collapse:function(){this.collapsed=!this.collapsed},showMenu:function(e,t){this.$refs.menuCollapsed.getElementsByClassName("submenu-hook-"+e)[0].style.display=t?"block":"none"},setTimer:function(){null==this.timer&&(this.timer=setInterval(function(){},1e3))}},created:function(){this.socketApi.initWebSocket("token="+d()),this.socketApi.setCallback(this.onCall)},destroyed:function(){clearInterval(this.timer),this.timer=null},mounted:function(){var e=sessionStorage.getItem("user");e&&(e=JSON.parse(e),this.sysUserName=e.name||"")}},w={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{staticClass:"container"},[n("el-col",{staticClass:"header",attrs:{span:24}},[n("el-col",{staticClass:"logo",class:e.collapsed?"logo-collapse-width":"logo-width",attrs:{span:10}},[e._v("\n        "+e._s(e.collapsed?"":e.sysName)+"\n      ")]),e._v(" "),n("el-col",{attrs:{span:10}},[n("div",{staticClass:"tools",on:{click:function(t){return t.preventDefault(),e.collapse(t)}}},[n("i",{staticClass:"fa fa-align-justify"})])]),e._v(" "),n("el-col",{staticClass:"userinfo",attrs:{span:4}},[n("el-dropdown",{attrs:{trigger:"hover"}},[n("span",{staticClass:"el-dropdown-link userinfo-inner"},[n("img",{attrs:{src:this.sysUserAvatar}}),e._v(" "+e._s(e.sysUserName))]),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[e._v("我的消息")]),e._v(" "),n("el-dropdown-item",[e._v("设置")]),e._v(" "),n("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(t){return e.logout(t)}}},[e._v("退出登录")])],1)],1)],1)],1),e._v(" "),n("el-col",{staticClass:"main",attrs:{span:24}},[n("aside",{class:e.collapsed?"menu-collapsed":"menu-expanded"},[n("el-menu",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],staticClass:"el-menu-vertical-demo",staticStyle:{width:"230px"},attrs:{"default-active":e.$route.path,"unique-opened":"",router:""},on:{open:e.handleopen,close:e.handleclose,select:e.handleselect}},[e._l(e.$router.options.routes,function(t,s){return t.hidden||t.meta.auth!==e.authType?e._e():[t.leaf?e._e():n("el-submenu",{attrs:{index:s+""}},[n("template",{slot:"title"},[n("i",{class:t.iconCls}),e._v(e._s(t.name))]),e._v(" "),e._l(t.children,function(t){return t.hidden?e._e():n("el-menu-item",{key:t.path,attrs:{index:t.path}},[e._v(e._s(t.name))])})],2),e._v(" "),t.leaf&&t.children.length>0?n("el-menu-item",{attrs:{index:t.children[0].path}},[n("i",{class:t.iconCls}),e._v(e._s(t.children[0].name))]):e._e()]})],2),e._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.collapsed,expression:"collapsed"}],ref:"menuCollapsed",staticClass:"el-menu el-menu-vertical-demo collapsed"},e._l(e.$router.options.routes,function(t,s){return t.hidden||t.meta.auth!==e.authType?e._e():n("li",{staticClass:"el-submenu item"},[t.leaf?[n("li",{staticClass:"el-submenu"},[n("div",{staticClass:"el-submenu__title el-menu-item",class:e.$route.path==t.children[0].path?"is-active":"",staticStyle:{"padding-left":"20px",height:"56px","line-height":"56px",padding:"0 20px"},on:{click:function(n){e.$router.push(t.children[0].path)}}},[n("i",{class:t.iconCls})])])]:[n("div",{staticClass:"el-submenu__title",staticStyle:{"padding-left":"20px"},on:{mouseover:function(t){e.showMenu(s,!0)},mouseout:function(t){e.showMenu(s,!1)}}},[n("i",{class:t.iconCls})]),e._v(" "),n("ul",{staticClass:"el-menu submenu",class:"submenu-hook-"+s,on:{mouseover:function(t){e.showMenu(s,!0)},mouseout:function(t){e.showMenu(s,!1)}}},e._l(t.children,function(t){return t.hidden?e._e():n("li",{key:t.path,staticClass:"el-menu-item",class:e.$route.path==t.path?"is-active":"",staticStyle:{"padding-left":"40px"},on:{click:function(n){e.$router.push(t.path)}}},[e._v(e._s(t.name))])}),0)]],2)}),0)],1),e._v(" "),n("section",{staticClass:"content-container"},[n("div",{staticClass:"grid-content bg-purple-light"},[n("el-col",{staticClass:"breadcrumb-container",attrs:{span:24}},[n("strong",{staticClass:"title"},[e._v(e._s(e.$route.name))]),e._v(" "),n("el-breadcrumb",{staticClass:"breadcrumb-inner",attrs:{separator:"/"}},e._l(e.$route.matched,function(t){return n("el-breadcrumb-item",{key:t.path},[e._v("\n          "+e._s(t.name)+"\n        ")])}),1)],1),e._v(" "),n("el-col",{staticClass:"content-wrapper",attrs:{span:24}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)],1)])])],1)},staticRenderFns:[]};var C=n("VU/8")($,w,!1,function(e){n("m48J")},"data-v-4b99c2bb",null).exports,S={data:function(){return{sysName:"医疗服务平台",collapsed:!1,sysUserName:"",sysUserAvatar:b.a,timer:null,authType:"service"}},methods:{onSubmit:function(){console.log("submit!")},handleopen:function(){},handleclose:function(){},handleselect:function(e,t){},logout:function(){var e=this;this.$confirm("确认退出吗?","提示",{}).then(function(){sessionStorage.removeItem("user"),e.$router.push("/login")}).catch(function(){})},collapse:function(){this.collapsed=!this.collapsed},showMenu:function(e,t){this.$refs.menuCollapsed.getElementsByClassName("submenu-hook-"+e)[0].style.display=t?"block":"none"},setTimer:function(){null==this.timer&&(this.timer=setInterval(function(){},1e3))}},created:function(){this.socketApi.initWebSocket("token="+d()),this.socketApi.setCallback(function(){})},destroyed:function(){clearInterval(this.timer),this.timer=null},mounted:function(){var e=sessionStorage.getItem("user");e&&(e=JSON.parse(e),this.sysUserName=e.name||"")}},L={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{staticClass:"container"},[n("el-col",{staticClass:"header",attrs:{span:24}},[n("el-col",{staticClass:"logo",class:e.collapsed?"logo-collapse-width":"logo-width",attrs:{span:10}},[e._v("\n        "+e._s(e.collapsed?"":e.sysName)+"\n      ")]),e._v(" "),n("el-col",{attrs:{span:10}},[n("div",{staticClass:"tools",on:{click:function(t){return t.preventDefault(),e.collapse(t)}}},[n("i",{staticClass:"fa fa-align-justify"})])]),e._v(" "),n("el-col",{staticClass:"userinfo",attrs:{span:4}},[n("el-dropdown",{attrs:{trigger:"hover"}},[n("span",{staticClass:"el-dropdown-link userinfo-inner"},[n("img",{attrs:{src:this.sysUserAvatar}}),e._v(" "+e._s(e.sysUserName))]),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[e._v("我的消息")]),e._v(" "),n("el-dropdown-item",[e._v("设置")]),e._v(" "),n("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(t){return e.logout(t)}}},[e._v("退出登录")])],1)],1)],1)],1),e._v(" "),n("el-col",{staticClass:"main",attrs:{span:24}},[n("aside",{class:e.collapsed?"menu-collapsed":"menu-expanded"},[n("el-menu",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],staticClass:"el-menu-vertical-demo",staticStyle:{width:"230px"},attrs:{"default-active":e.$route.path,"unique-opened":"",router:""},on:{open:e.handleopen,close:e.handleclose,select:e.handleselect}},[e._l(e.$router.options.routes,function(t,s){return t.hidden||t.meta.auth!==e.authType?e._e():[t.leaf?e._e():n("el-submenu",{attrs:{index:s+""}},[n("template",{slot:"title"},[n("i",{class:t.iconCls}),e._v(e._s(t.name))]),e._v(" "),e._l(t.children,function(t){return t.hidden?e._e():n("el-menu-item",{key:t.path,attrs:{index:t.path}},[e._v(e._s(t.name))])})],2),e._v(" "),t.leaf&&t.children.length>0?n("el-menu-item",{attrs:{index:t.children[0].path}},[n("i",{class:t.iconCls}),e._v(e._s(t.children[0].name))]):e._e()]})],2),e._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.collapsed,expression:"collapsed"}],ref:"menuCollapsed",staticClass:"el-menu el-menu-vertical-demo collapsed"},e._l(e.$router.options.routes,function(t,s){return t.hidden||t.meta.auth!==e.authType?e._e():n("li",{staticClass:"el-submenu item"},[t.leaf?[n("li",{staticClass:"el-submenu"},[n("div",{staticClass:"el-submenu__title el-menu-item",class:e.$route.path==t.children[0].path?"is-active":"",staticStyle:{"padding-left":"20px",height:"56px","line-height":"56px",padding:"0 20px"},on:{click:function(n){e.$router.push(t.children[0].path)}}},[n("i",{class:t.iconCls})])])]:[n("div",{staticClass:"el-submenu__title",staticStyle:{"padding-left":"20px"},on:{mouseover:function(t){e.showMenu(s,!0)},mouseout:function(t){e.showMenu(s,!1)}}},[n("i",{class:t.iconCls})]),e._v(" "),n("ul",{staticClass:"el-menu submenu",class:"submenu-hook-"+s,on:{mouseover:function(t){e.showMenu(s,!0)},mouseout:function(t){e.showMenu(s,!1)}}},e._l(t.children,function(t){return t.hidden?e._e():n("li",{key:t.path,staticClass:"el-menu-item",class:e.$route.path==t.path?"is-active":"",staticStyle:{"padding-left":"40px"},on:{click:function(n){e.$router.push(t.path)}}},[e._v(e._s(t.name))])}),0)]],2)}),0)],1),e._v(" "),n("section",{staticClass:"content-container"},[n("div",{staticClass:"grid-content bg-purple-light"},[n("el-col",{staticClass:"breadcrumb-container",attrs:{span:24}},[n("strong",{staticClass:"title"},[e._v(e._s(e.$route.name))]),e._v(" "),n("el-breadcrumb",{staticClass:"breadcrumb-inner",attrs:{separator:"/"}},e._l(e.$route.matched,function(t){return n("el-breadcrumb-item",{key:t.path},[e._v("\n          "+e._s(t.name)+"\n        ")])}),1)],1),e._v(" "),n("el-col",{staticClass:"content-wrapper",attrs:{span:24}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)],1)])])],1)},staticRenderFns:[]};var E=n("VU/8")(S,L,!1,function(e){n("qpM9")},"data-v-3e13c603",null).exports,F={filters:{statusFilter:function(e){return{published:"success",draft:"gray",deleted:"danger"}[e]}},data:function(){return{list:null,listLoading:!0}},created:function(){this.socketApi.setCallback(this.setSession),this.socketApi.sendSock({code:"2004",message:"getServiceList"})},methods:{fetchData:function(){var e=this;this.listLoading=!0,this.$axios.post("/admin/servicelist",{}).then(function(t){e.list=t.data.data.items,e.listLoading=!1})},setSession:function(e){2004===(e=JSON.parse(e)).code&&(this.listLoading=!0,this.list=e.data.items,this.listLoading=!1,this.socketApi.sendSock({code:2004,message:"客户端调试信息"}))}}},N={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("p"),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"工号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.acount)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"姓名",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.name)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"处理挂号单数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.registersNum))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"上传讲座数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.lecturesNum)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"上传体检推荐数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.recommendNum)+"\n      ")]}}])})],1)],1)},staticRenderFns:[]},U=n("VU/8")(F,N,!1,null,null,null).exports,T={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("p"),e._v(" "),n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"客服工号"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"客服姓名"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"登录密码"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:e.form.pass,callback:function(t){e.$set(e.form,"pass",t)},expression:"form.pass"}})],1)],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("创建")]),e._v(" "),n("el-button",{on:{click:e.onCancel}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var A=n("VU/8")({data:function(){return{form:{}}},methods:{onSubmit:function(){var e=this;null!=this.form.account&&null!=this.form.name&&null!=this.form.pass?this.$axios.post("/admin/addService",{account:this.form.account,name:this.form.name,pass:this.form.pass}).then(function(t){2e3===t.data.status?(e.$message("创建成功"),e.form={}):e.openError(t.data.message)}).catch(function(){e.openError("系统错误")}):this.openWarn("输入不能为空")},openWarn:function(e){this.$alert(e,"警告",{confirmButtonText:"确定",callback:function(e){}})},openError:function(e){this.$alert(e,"错误",{confirmButtonText:"确定",callback:function(e){}})},onCancel:function(){this.$message({message:"放弃添加",type:"warning"}),this.form={}}}},T,!1,function(e){n("4NlE")},"data-v-2af7f886",null).exports,R={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("p"),e._v(" "),n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"医生账号"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"医生姓名"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"登录密码"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:e.form.pass,callback:function(t){e.$set(e.form,"pass",t)},expression:"form.pass"}})],1)],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("创建")]),e._v(" "),n("el-button",{on:{click:e.onCancel}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var W=n("VU/8")({data:function(){return{form:{}}},methods:{onSubmit:function(){var e=this;null!=this.form.account&&null!=this.form.name&&null!=this.form.pass?this.$axios.post("/admin/addDoctor",{account:this.form.account,name:this.form.name,pass:this.form.pass}).then(function(t){2e3===t.data.status?(e.$message("创建成功"),e.form={}):e.openError(t.data.message)}).catch(function(){e.openError("系统错误")}):this.openWarn("输入不能为空")},onCancel:function(){this.$message({message:"放弃添加",type:"warning"}),this.form={}},openWarn:function(e){this.$alert(e,"警告",{confirmButtonText:"确定",callback:function(e){}})},openError:function(e){this.$alert(e,"错误",{confirmButtonText:"确定",callback:function(e){}})}}},R,!1,function(e){n("33+y")},"data-v-77336df4",null).exports,M={data:function(){return{form:{}}},methods:{onSubmit:function(){var e=this;null!=this.form.account?this.$axios.post("/admin/changeDoctor",{account:this.form.account,name:this.form.name,class:this.form.class,blief:this.form.blief}).then(function(t){2e3===t.data.status?e.$message("修改成功"):e.openError(t.data.message)}).catch(function(){e.openError("系统错误")}):this.openWarn("输入不能为空")},onCancel:function(){this.$message({message:"放弃添加",type:"warning"}),this.form={}},beforeUpload:function(e){var t=new FormData;t.append("file",e),t.append("name",this.form.name),t.append("account",this.form.account),t.append("class",this.form.class),t.append("blief",this.form.blief),this.$axios.post("/admin/changeDoctor",t).then(function(e){alert("成功")})},newSubmitForm:function(){this.$refs.newupload.submit()},doUpload:function(){return"/useless"},openWarn:function(e){this.$alert(e,"警告",{confirmButtonText:"确定",callback:function(e){}})},openError:function(e){this.$alert(e,"错误",{confirmButtonText:"确定",callback:function(e){}})}}},B={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("p"),e._v(" "),n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"180px"}},[n("el-form-item",{attrs:{label:"医生账号(不能为空)"}},[n("el-col",{attrs:{span:20}},[n("el-input",{attrs:{placeholder:"不能为空"},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"医生姓名"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"医生科室"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:e.form.class,callback:function(t){e.$set(e.form,"class",t)},expression:"form.class"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"医生简介"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:e.form.blief,callback:function(t){e.$set(e.form,"blief",t)},expression:"form.blief"}})],1)],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("上传")]),e._v(" "),n("el-button",{on:{click:e.onCancel}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var V=n("VU/8")(M,B,!1,function(e){n("jXKs")},"data-v-73db8c5e",null).exports,D={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("p"),e._v(" "),n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"要修改的账号"}},[n("el-col",{attrs:{span:20}},[n("el-input",{attrs:{placeholder:"医生为账号、客服为工号"},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"修改内容"}},[n("el-select",{attrs:{placeholder:"请选择修改类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[n("el-option",{attrs:{label:"修改姓名",value:"changeName"}}),e._v(" "),n("el-option",{attrs:{label:"修改密码",value:"changPass"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"修改为"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}})],1)],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")]),e._v(" "),n("el-button",{on:{click:e.onCancel}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var I=n("VU/8")({data:function(){return{form:{}}},methods:{onSubmit:function(){var e=this;null!=this.form.account&&null!=this.form.type&&null!=this.form.value?this.$axios.post("/admin/changeAccount",{account:this.form.account,type:this.form.type,value:this.form.value}).then(function(t){2e3===t.data.status?(e.$message("修改成功"),e.form={}):e.openError(t.data.message)}).catch(function(){e.openError("系统错误")}):this.openWarn("输入不能为空")},onCancel:function(){this.$message({message:"放弃添加",type:"warning"}),this.form={}},openWarn:function(e){this.$alert(e,"警告",{confirmButtonText:"确定",callback:function(e){}})},openError:function(e){this.$alert(e,"错误",{confirmButtonText:"确定",callback:function(e){}})}}},D,!1,function(e){n("27+u")},"data-v-46bbc0dc",null).exports,O={filters:{statusFilter:function(e){return{published:"success",draft:"gray",deleted:"danger"}[e]}},data:function(){return{list:null,listLoading:!0}},created:function(){this.socketApi.setCallback(this.setSession),this.socketApi.sendSock({code:"2007",message:"getServiceOnLineList"})},methods:{setSession:function(e){2007===(e=JSON.parse(e)).code&&(this.listLoading=!0,this.list=e.data.items,this.listLoading=!1,this.socketApi.sendSock({code:2007,message:"客户端调试信息"}))}}},P={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("p"),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"工号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.acount)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"姓名",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.name)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"处理挂号单数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.registersNum))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"上传讲座数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.lecturesNum)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"上传体检推荐数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.recommendNum)+"\n      ")]}}])})],1)],1)},staticRenderFns:[]},q=n("VU/8")(O,P,!1,null,null,null).exports,J={filters:{statusFilter:function(e){return{published:"success",draft:"gray",deleted:"danger"}[e]}},data:function(){return{list:null,listLoading:!0,form:{}}},created:function(){Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e}},methods:{fetchData:function(){var e=this;this.listLoading=!0,this.$axios.post("/admin/servicelist",{}).then(function(t){e.list=t.data.data.items,e.listLoading=!1})},setSession:function(e){2004===(e=JSON.parse(e)).code&&(this.listLoading=!0,this.list=e.data.items,this.listLoading=!1,this.socketApi.sendSock({code:2004,message:"客户端调试信息"}))},onSubmit:function(){var e=this;console.log(this.form.date1),null!=this.form.date1&&null!=this.form.date2?this.$axios.post("/admin/queryService",{startTime:new Date(this.form.date1).format("yyyy/MM/dd"),endTime:new Date(this.form.date2).format("yyyy/MM/dd")}).then(function(t){2005===t.data.code?(e.list=t.data.data.items,e.listLoading=!1,e.$message("查询成功")):e.openError(t.data.message)}).catch(function(){e.openError("系统错误")}):this.openWarn("输入不能为空")},onCancel:function(){this.$message({message:"放弃查询",type:"warning"}),this.form={}},openWarn:function(e){this.$alert(e,"消息",{confirmButtonText:"确定",callback:function(e){}})},openError:function(e){this.$alert(e,"错误",{confirmButtonText:"确定",callback:function(e){}})}}},j={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("p"),e._v(" "),n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"选择统计时间段"}},[n("el-col",{attrs:{span:10}},[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择开始时间"},model:{value:e.form.date1,callback:function(t){e.$set(e.form,"date1",t)},expression:"form.date1"}})],1),e._v(" "),n("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),e._v(" "),n("el-col",{attrs:{span:10}},[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择结束时间"},model:{value:e.form.date2,callback:function(t){e.$set(e.form,"date2",t)},expression:"form.date2"}})],1),e._v(" "),n("el-col",{attrs:{span:1}},[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1),e._v(" "),n("el-col",{attrs:{span:1}},[n("el-button",{staticStyle:{width:"100%"},on:{click:e.onCancel}},[e._v("取消")])],1)],1)],1),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"工号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.acount)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"姓名",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.name)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"处理挂号单数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.registersNum))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"上传讲座数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.lecturesNum)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"上传体检推荐数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.recommendNum)+"\n      ")]}}])})],1)],1)},staticRenderFns:[]},z=n("VU/8")(J,j,!1,null,null,null).exports,Q={data:function(){return{form:{}}},methods:{onSubmit:function(){var e=this;null!=this.form.account&&null!=this.form.name&&null!=this.form.class&&null!=this.form.blief?this.$axios.post("/admin/changeDoctor",{account:this.form.account,name:this.form.name,class:this.form.class,blief:this.form.blief}).then(function(t){2e3===t.data.status?e.$message("修改成功"):e.openError(t.data.message)}).catch(function(){e.openError("系统错误")}):this.openWarn("输入不能为空")},onCancel:function(){this.$message({message:"放弃添加",type:"warning"}),this.form={}},beforeUpload:function(e){var t=new FormData;t.append("file",e),t.append("name",this.form.name),t.append("account",this.form.account),t.append("class",this.form.class),t.append("blief",this.form.blief),this.$axios.post("/admin/changeDoctor",t).then(function(e){alert("成功")})},newSubmitForm:function(){this.$refs.newupload.submit()},doUpload:function(){return"/useless"},openWarn:function(e){this.$alert(e,"警告",{confirmButtonText:"确定",callback:function(e){}})},openError:function(e){this.$alert(e,"错误",{confirmButtonText:"确定",callback:function(e){}})}}},G={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("p"),e._v(" "),n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"180px"}},[n("el-form-item",{attrs:{label:"医生账号(不能为空)"}},[n("el-col",{attrs:{span:20}},[n("el-input",{attrs:{placeholder:"不能为空"},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"医生姓名"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"医生科室"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:e.form.class,callback:function(t){e.$set(e.form,"class",t)},expression:"form.class"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"医生简介"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:e.form.blief,callback:function(t){e.$set(e.form,"blief",t)},expression:"form.blief"}})],1)],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("上传")]),e._v(" "),n("el-button",{on:{click:e.onCancel}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var H=n("VU/8")(Q,G,!1,function(e){n("3f3l")},"data-v-c1743b72",null).exports,K={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("p"),e._v(" "),n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"标题"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"摘要"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:e.form.blief,callback:function(t){e.$set(e.form,"blief",t)},expression:"form.blief"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"内容"}},[n("el-col",{attrs:{span:20}},[n("el-input",{attrs:{autosize:{minRows:5,maxRows:20},type:"textarea"},model:{value:e.form.text,callback:function(t){e.$set(e.form,"text",t)},expression:"form.text"}})],1)],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("上传")]),e._v(" "),n("el-button",{on:{click:e.onCancel}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var X=n("VU/8")({data:function(){return{form:{}}},methods:{onSubmit:function(){var e=this;null!=this.form.title&&null!=this.form.blief&&null!=this.form.text?this.$axios.post("/service/postRecommendation",{title:this.form.title,blief:this.form.blief,text:this.form.text}).then(function(t){2e3===t.data.status?(e.$message("创建成功"),e.form={}):e.$message({message:t.data.message,type:"error"})}).catch(function(){e.openError("系统错误")}):this.openWarn("不能为空")},onCancel:function(){this.$message({message:"放弃添加",type:"warning"}),this.form={}},openWarn:function(e){this.$alert(e,"消息",{confirmButtonText:"确定",callback:function(e){}})},openError:function(e){this.$alert(e,"错误",{confirmButtonText:"确定",callback:function(e){}})}}},K,!1,function(e){n("jSv2")},"data-v-d26bf83a",null).exports,Y={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("p"),e._v(" "),n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"180px"}},[n("el-form-item",{attrs:{label:"交易单号："}},[n("el-col",{attrs:{span:20}},[e._v("\n        "+e._s(e.regist.id)+"\n      ")])],1),e._v(" "),n("el-form-item",{attrs:{label:"客户账号："}},[n("el-col",{attrs:{span:20}},[e._v("\n        "+e._s(e.regist.userAccount)+"\n      ")])],1),e._v(" "),n("el-form-item",{attrs:{label:"用户姓名："}},[n("el-col",{attrs:{span:20}},[e._v("\n        "+e._s(e.regist.userName)+"\n      ")])],1),e._v(" "),n("el-form-item",{attrs:{label:"科室："}},[n("el-col",{attrs:{span:20}},[e._v("\n        "+e._s(e.regist.class)+"\n      ")])],1),e._v(" "),n("el-form-item",{attrs:{label:"备注："}},[n("el-col",{attrs:{span:20}},[e._v("\n        "+e._s(e.regist.others)+"\n      ")])],1),e._v(" "),n("el-form-item",{attrs:{label:"挂号结果"}},[n("el-col",{attrs:{span:20}},[n("el-input",{attrs:{autosize:{minRows:5,maxRows:20},type:"textarea"},model:{value:e.form.text,callback:function(t){e.$set(e.form,"text",t)},expression:"form.text"}})],1)],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("上传")]),e._v(" "),n("el-button",{on:{click:e.onCancel}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var Z=n("VU/8")({data:function(){return{regist:{},form:{}}},created:function(){var e=this;this.$axios.post("/service/getRegist",{}).then(function(t){2e3===t.data.status?(e.$message("获取成功"),e.regist=t.data):(e.$message({message:"无可用挂号单",type:"error"}),e.$router.push("/service/regist_online"))}).catch(function(t){e.$message({message:"系统错误",type:"error"}),e.$router.push("/service/regist_online")})},methods:{onSubmit:function(){var e=this;null!=this.regist.id&&null!=this.form.text?this.$axios.post("/service/postRegist",{id:this.regist.id,result:this.form.text}).then(function(t){2e3===t.data.status?e.$message("上传成功"):e.$message({message:t.data.message,type:"error"})}):this.openWarn("不能为空")},onCancel:function(){this.$message({message:"放弃添加",type:"warning"}),this.form={}},openWarn:function(e){this.$alert(e,"消息",{confirmButtonText:"确定",callback:function(e){}})},openError:function(e){this.$alert(e,"错误",{confirmButtonText:"确定",callback:function(e){}})}}},Y,!1,function(e){n("MRrV")},"data-v-7fe4572d",null).exports;function ee(){return localStorage.getItem("u_info")}function te(e,t,n,s){var a=new Date;a.setTime(a.getTime()+864e5*n),localStorage.setItem("u_info",m()({userAccount:e,userPass:t,remeberFlag:s,expires:a.toGMTString()}))}var ne={filters:{statusFilter:function(e){return{published:"success",draft:"gray",deleted:"danger"}[e]}},data:function(){return{list:null,listLoading:!0}},created:function(){this.socketApi.setCallback(this.setSession),this.socketApi.sendSock({code:"2008",message:"getRegistList"})},methods:{postRegist:function(e){var t=this;this.$axios.post("/service/ownRegist",{id:e.id,user_account:e.account,service_account:JSON.parse(this.userApi.getUserCookie()).userAccount}).then(function(e){2e3===e.data.status?t.openWarn("接单成功"):t.openError(e.data.message)})},setSession:function(e){2008===(e=JSON.parse(e)).code&&(this.listLoading=!0,this.list=e.data.items,this.listLoading=!1,this.socketApi.sendSock(m()({code:2008,message:"客户端调试信息"})))},openWarn:function(e){this.$alert(e,"消息",{confirmButtonText:"确定",callback:function(e){}})},openError:function(e){this.$alert(e,"错误",{confirmButtonText:"确定",callback:function(e){}})}}},se={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("p"),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"客户账号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.account)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"客户姓名",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.name)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"挂号科室",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.class))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"备注",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.others)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(n){e.postRegist(t.row)}}},[e._v("接单")])]}}])})],1)],1)},staticRenderFns:[]},ae=n("VU/8")(ne,se,!1,null,null,null).exports,oe={data:function(){return{form:{type:1},videoFlag:!1}},methods:{onSubmit:function(){this.$refs.newupload.submit()},onCancel:function(){this.$message({message:"放弃添加",type:"warning"}),this.form={}},beforeUpload:function(e){if(null!=e&&null!=this.form.title){var t=new FormData;t.append("file",e),t.append("title",this.form.title),1===this.form.type?this.$axios.post("/service/uploadLecturevideo",t).then(function(e){this.openWarn("上传成功")}).catch():2===this.form.type&&this.$axios.post("/service/uploadLectureaudio",t).then(function(e){this.openWarn("上传成功")}).catch()}else this.openWarn("不能为空")},newSubmitForm:function(){this.$refs.newupload.submit()},doUpload:function(){return"/useless"},uploadVideoProcess:function(e,t,n){this.videoFlag=!0,this.videoUploadPercent=1*t.percentage.toFixed(0)},openWarn:function(e){this.$alert(e,"消息",{confirmButtonText:"确定",callback:function(e){}})},openError:function(e){this.$alert(e,"错误",{confirmButtonText:"确定",callback:function(e){}})}}},ie={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("p"),e._v(" "),n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"180px"}},[n("el-form-item",{attrs:{label:"标题(不能为空)"}},[n("el-col",{attrs:{span:20}},[n("el-input",{attrs:{placeholder:"不能为空"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"讲座类型"}},[n("el-radio-group",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[n("el-radio",{attrs:{label:1}},[e._v("视频")]),e._v(" "),n("el-radio",{attrs:{label:2}},[e._v("音频")])],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"上传文件(不能为空)"}},[n("el-col",{attrs:{span:20}},[n("el-upload",{ref:"newupload",staticClass:"upload-file",attrs:{drag:"",accept:".mp4, .mp3, .wav",limit:1,"list-type":"picture-card",action:e.doUpload(),"before-upload":e.beforeUpload,multiple:"","auto-upload":!1}},[n("i",{staticClass:"el-icon-upload"}),e._v(" "),n("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),n("em",[e._v("点击上传")]),e._v("，不能为空")])])],1)],1),e._v(" "),n("el-form-item",{attrs:{label:""}},[1==e.videoFlag?n("el-progress",{staticStyle:{"margin-top":"30px"},attrs:{type:"circle",percentage:e.videoUploadPercent}}):e._e()],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("上传")]),e._v(" "),n("el-button",{on:{click:e.onCancel}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var le=n("VU/8")(oe,ie,!1,function(e){n("jAj6")},"data-v-63fae0f8",null).exports,re={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("p"),e._v(" "),n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"标题"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"摘要"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:e.form.blief,callback:function(t){e.$set(e.form,"blief",t)},expression:"form.blief"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"内容"}},[n("el-col",{attrs:{span:20}},[n("el-input",{attrs:{autosize:{minRows:5,maxRows:20},type:"textarea"},model:{value:e.form.text,callback:function(t){e.$set(e.form,"text",t)},expression:"form.text"}})],1)],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("上传")]),e._v(" "),n("el-button",{on:{click:e.onCancel}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var ce=n("VU/8")({data:function(){return{form:{}}},methods:{onSubmit:function(){var e=this;null!=this.form.title&&null!=this.form.blief&&null!=this.form.text?this.$axios.post("/service/uploadLecturetext",{title:this.form.title,blief:this.form.blief,text:this.form.text}).then(function(t){2e3===t.data.status?(e.$message("创建成功"),e.form={}):e.openError(t.data.message)}).catch(function(){e.openError("系统错误")}):this.openWarn("不能为空")},onCancel:function(){this.$message({message:"放弃添加",type:"warning"}),this.form={}},openWarn:function(e){this.$alert(e,"警告",{confirmButtonText:"确定",callback:function(e){}})},openError:function(e){this.$alert(e,"错误",{confirmButtonText:"确定",callback:function(e){}})}}},re,!1,function(e){n("SblI")},"data-v-681fedf5",null).exports,ue={filters:{statusFilter:function(e){return{published:"success",draft:"gray",deleted:"danger"}[e]}},data:function(){return{list:null,listLoading:!0,doctorList:null}},created:function(){this.socketApi.setCallback(this.setSession),this.socketApi.sendSock({code:2009,message:" getDoctorList "}),this.socketApi.sendSock({code:2010,message:" getWaitList "})},methods:{setSession:function(e){2009===(e=JSON.parse(e)).code?(this.doctorList=e.data.items,this.socketApi.sendSock({code:2009,message:"客户端调试信息"})):2010===e.code&&(this.listLoading=!0,this.list=e.data.items,this.listLoading=!1,this.socketApi.sendSock({code:2010,message:"客户端调试信息"}))},postRegist:function(e){var t=this;null!=e.doctorAccount?this.$axios.post("/service/setWebChat",{userAccount:e.account,doctorAccount:e.doctorAccount}).then(function(e){2e3===e.data.status?t.openWarn("调度成功"):t.openError(e.data.message)}).catch(function(){t.openError("系统错误")}):this.openWarn("请选择医生")},openWarn:function(e){this.$alert(e,"消息",{confirmButtonText:"确定",callback:function(e){}})},openError:function(e){this.$alert(e,"错误",{confirmButtonText:"确定",callback:function(e){}})}}},me={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("p"),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{label:"账号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.account)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"姓名",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.name)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"备注",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.others))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"分配医生",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-select",{attrs:{placeholder:"请选择在线医生"},model:{value:t.row.doctorAccount,callback:function(n){e.$set(t.row,"doctorAccount",n)},expression:"scope.row.doctorAccount"}},e._l(e.doctorList,function(e){return n("el-option",{key:e.name,attrs:{label:e.name,value:e.account}})}),1)]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(n){e.postRegist(t.row)}}},[e._v("分配")])]}}])})],1)],1)},staticRenderFns:[]},de=n("VU/8")(ue,me,!1,null,null,null).exports,fe={filters:{statusFilter:function(e){return{published:"success",draft:"gray",deleted:"danger"}[e]}},data:function(){return{list:null,listLoading:!0}},created:function(){this.socketApi.setCallback(this.setSession),this.socketApi.sendSock({code:"2009",message:" getDoctorList "})},methods:{setSession:function(e){2009===(e=JSON.parse(e)).code&&(this.listLoading=!0,this.list=e.data.items,sessionStorage.setItem("doctorOnline",m()(this.list)),this.listLoading=!1,this.socketApi.sendSock({code:2009,message:"客户端调试信息"}))}}},pe={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("p"),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{label:"姓名",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.name)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"科室",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.class))])]}}])})],1)],1)},staticRenderFns:[]},he=n("VU/8")(fe,pe,!1,null,null,null).exports,ve={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var ge=n("VU/8")({name:"UserList"},ve,!1,function(e){n("1qlN")},"data-v-2fefc612",null).exports,_e={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("p"),e._v(" "),n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"用户账号"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"用户姓名"}},[n("el-col",{attrs:{span:20}},[n("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"内容"}},[n("el-col",{attrs:{span:20}},[n("el-input",{attrs:{autosize:{minRows:5,maxRows:20},type:"textarea"},model:{value:e.form.text,callback:function(t){e.$set(e.form,"text",t)},expression:"form.text"}})],1)],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("上传")]),e._v(" "),n("el-button",{on:{click:e.onCancel}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var be=n("VU/8")({data:function(){return{form:{}}},methods:{onSubmit:function(){var e=this;null!=this.form.account&&null!=this.form.name&&null!=this.form.text?this.$axios.post("/doctor/postReport",{account:this.form.account,name:this.form.name,result:this.form.text}).then(function(t){2e3===t.data.status?(e.$message("创建成功"),e.form={}):e.openError(t.data.message)}).catch(function(){e.openError("系统错误")}):this.openWarn("输入不能为空")},onCancel:function(){this.$message({message:"放弃添加",type:"warning"}),this.form={}},openWarn:function(e){this.$alert(e,"警告",{confirmButtonText:"确定",callback:function(e){}})},openError:function(e){this.$alert(e,"错误",{confirmButtonText:"确定",callback:function(e){}})}}},_e,!1,function(e){n("M+QU")},"data-v-5735a355",null).exports,ke=n("Gfsd"),xe=n.n(ke),ye=xe.a.createClient({mode:"live",codec:"h264"}),$e=null,we={data:function(){return{form:{}}},created:function(){null==($e=this.$route.query.id)&&(this.$message({message:"无连接请求",type:"error"}),this.$router.push("/doctor")),ye.init("df82778c111c4c57aa3f13fbca9f40cc",function(){console.log("AgoraRTC client initialized")},function(e){console.log("AgoraRTC client init failed",e)});var e=null;ye.join(null,$e,null,function(t){var n;e=t,console.log("User "+e+" join channel successfully"),(n=xe.a.createStream({streamID:e,audio:!0,video:!1,screen:!1})).init(function(){console.log("getUserMedia successfully"),n.play("agora_local"),ye.publish(n,function(e){console.log("Publish local stream error: "+e)})},function(e){console.log("getUserMedia failed",e)}),ye.on("stream-published",function(e){console.log("Publish local stream successfully")}),ye.on("stream-added",function(e){var t=e.stream;console.log("New stream added: "+t.getId()),ye.subscribe(t,function(e){console.log("Subscribe stream failed",e)})}),ye.on("stream-subscribed",function(e){var t=e.stream;console.log("Subscribe remote stream successfully: "+t.getId()),t.play("agora_remote")})},function(e){console.log("Join channel failed",e)})},methods:{openWarn:function(e){this.$alert(e,"警告",{confirmButtonText:"确定",callback:function(e){}})},openError:function(e){this.$alert(e,"错误",{confirmButtonText:"确定",callback:function(e){}})},setDown:function(){ye.leave(function(){console.log("Leave channel successfully")},function(e){console.log("Leave channel failed")}),this.socketApi.sendSock({code:2012,message:"客户端主动挂断"}),this.$message({type:"success",message:"已挂断!"}),this.$router.push("/doctor")}}},Ce={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"app-container"},[t("p"),this._v(" "),t("div",{attrs:{id:"agora_remote"}}),this._v(" "),t("div",{attrs:{id:"agora_local"}}),this._v(" "),t("el-button",{on:{click:this.setDown}},[this._v("结束问诊")])],1)},staticRenderFns:[]};var Se=n("VU/8")(we,Ce,!1,function(e){n("KkMG")},"data-v-16bd5f5a",null).exports;i.default.use(c.a);var Le=new c.a({routes:[{path:"/",name:"请登录",component:v,meta:{isLogin:!1}},{path:"/login",component:v,name:"请登录",meta:{isLogin:!1}},{path:"/admin",component:y,name:"账号管理",iconCls:"fa fa-address-card",meta:{isLogin:!0,auth:"admin"},children:[{path:"/admin/add_service",component:A,name:"添加客服",meta:{isLogin:!0,auth:"admin"}},{path:"/admin/add_doctor",component:W,name:"添加医生",meta:{isLogin:!0,auth:"admin"}},{path:"/admin/change_account",component:I,name:"修改账号",meta:{isLogin:!0,auth:"admin"}},{path:"/admin/change_doctor",component:V,name:"医生信息修改",meta:{isLogin:!0,auth:"admin"}}]},{path:"/admin/",component:y,name:"客服管理",iconCls:"fa fa-bar-chart",meta:{isLogin:!0,auth:"admin"},children:[{path:"/admin/service_list1",component:U,name:"所有客服",meta:{isLogin:!0,auth:"admin"}},{path:"/admin/service_list2",component:q,name:"在线客服",meta:{isLogin:!0,auth:"admin"}},{path:"/admin/service_list3",component:z,name:"工作量统计",meta:{isLogin:!0,auth:"admin"}}]},{path:"/service",component:E,name:"信息发布",iconCls:"fa fa-edit",meta:{isLogin:!0,auth:"service"},children:[{path:"/service/upload_lecture",component:le,name:"音视频讲座上传",meta:{isLogin:!0,auth:"service"}},{path:"/service/upload_tlecture",component:ce,name:"文字讲座上传",meta:{isLogin:!0,auth:"service"}},{path:"/service/upload_recommendation",component:X,name:"体检推荐发布",meta:{isLogin:!0,auth:"service"}},{path:"/service/change_doctor",component:H,name:"医生信息录入",meta:{isLogin:!0,auth:"service"}}]},{path:"/service",component:E,name:"在线挂号",iconCls:"fa fa-braille",meta:{isLogin:!0,auth:"service"},children:[{path:"/service/regist_online",component:ae,name:"挂号列表",meta:{isLogin:!0,auth:"service"}},{path:"/admin/post_regist",component:Z,name:"挂号反馈",meta:{isLogin:!0,auth:"service"}}]},{path:"/service",component:E,name:"语音问诊调配",iconCls:"fa fa-comments",meta:{isLogin:!0,auth:"service"},children:[{path:"/service/service_list1",component:de,name:"等待调配列表",meta:{isLogin:!0,auth:"service"}},{path:"/service/service_list2",component:he,name:"在线医生列表",meta:{isLogin:!0,auth:"service"}}]},{path:"/doctor",component:C,name:"上传健康报告",iconCls:"fa fa-edit",meta:{isLogin:!0,auth:"doctor"},children:[{path:"/doctor/user_list",component:ge,name:"用户列表",meta:{isLogin:!0,auth:"doctor"}},{path:"/doctor/post_report",component:be,name:"报告编辑",meta:{isLogin:!0,auth:"doctor"}}]},{path:"/doctor",component:C,name:"语音问诊",iconCls:"fa fa-comments",meta:{isLogin:!0,auth:"doctor"},children:[{path:"/doctor/webchat/",component:Se,name:"在线语音",meta:{isLogin:!0,auth:"doctor"}}]}]}),Ee=n("mtWM"),Fe=n.n(Ee),Ne=n("zL8q"),Ue=n.n(Ne),Te=(n("tvR6"),n("e0XP"),null),Ae=function(){},Re="8082";function We(e){(Te=new WebSocket("ws://localhost:"+Re+"/ws?"+e)).onmessage=function(e){!function(e){Ae(e.data)}(e)},Te.onclose=function(e){!function(e){console.log("connection closed ("+e.code+")")}(e)},Te.onopen=function(){console.log("连接成功")},Te.onerror=function(){this.$message.error("WebSocket连接发生错误")}}function Me(e){Te.readyState===Te.OPEN?function(e){Te.send(m()(e))}(e):(Te.readyState,Te.CONNECTING,setTimeout(function(){Me(e)},1e3))}function Be(e){Ae=e}i.default.prototype.cookieApi=s,i.default.prototype.userApi=a,Fe.a.defaults.timeout=5e3,Fe.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",Fe.a.defaults.baseURL="/",i.default.prototype.$axios=Fe.a,i.default.prototype.$message=Ne.Message,i.default.use(Ue.a),i.default.prototype.socketApi=o,i.default.config.productionTip=!1,Le.beforeEach(function(e,t,n){e.matched.some(function(e){return e.meta.isLogin})?sessionStorage.getItem("auth")&&sessionStorage.getItem("auth")==e.meta.auth?n():n({path:"/login",query:{redirect:e.fullPath}}):n()}),new i.default({el:"#app",router:Le,components:{App:r},render:function(e){return e(r)}}).$mount("#app")},SblI:function(e,t){},W9Ya:function(e,t,n){e.exports=n.p+"static/img/20170117034706_QArW4.a9a3fe2.jpeg"},e0XP:function(e,t){},jAj6:function(e,t){},jSv2:function(e,t){},jXKs:function(e,t){},m48J:function(e,t){},qpM9:function(e,t){},tvR6:function(e,t){},vsLT:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.338506e451a52a21a44f.js.map